<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Gabe Hope">

<title>Data Analytics and Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Data Analytics and Visualization</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../calendar/calendar.html"> 
<span class="menu-text">Calendar</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../../../syllabus/policies.html">
 <span class="dropdown-text">Policies</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../syllabus/rubric.html">
 <span class="dropdown-text">Grading</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../../../../resources/references.html">
 <span class="dropdown-text">Reference materials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../resources/software.html">
 <span class="dropdown-text">Software &amp; tools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../resources/datasets.html">
 <span class="dropdown-text">Datasets</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-links" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Links</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-links">    
        <li>
    <a class="dropdown-item" href="https://harveymuddcollege.instructure.com/courses/1728">
 <span class="dropdown-text">Canvas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.gradescope.com/courses/839547">
 <span class="dropdown-text">Gradescope</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-is-effective-visualization-important" id="toc-why-is-effective-visualization-important" class="nav-link active" data-scroll-target="#why-is-effective-visualization-important">Why is effective visualization important?</a></li>
  <li><a href="#january-26-1986" id="toc-january-26-1986" class="nav-link" data-scroll-target="#january-26-1986">January 26, 1986</a>
  <ul class="collapse">
  <li><a href="#challenger-mission" id="toc-challenger-mission" class="nav-link" data-scroll-target="#challenger-mission">Challenger Mission</a></li>
  <li><a href="#a-cold-launch-day" id="toc-a-cold-launch-day" class="nav-link" data-scroll-target="#a-cold-launch-day">A cold launch day</a></li>
  <li><a href="#engineering-concerns" id="toc-engineering-concerns" class="nav-link" data-scroll-target="#engineering-concerns">Engineering concerns</a></li>
  <li><a href="#last-minute-debate" id="toc-last-minute-debate" class="nav-link" data-scroll-target="#last-minute-debate">Last minute debate</a></li>
  <li><a href="#a-predictable-failure" id="toc-a-predictable-failure" class="nav-link" data-scroll-target="#a-predictable-failure">A predictable failure</a></li>
  <li><a href="#tragedy" id="toc-tragedy" class="nav-link" data-scroll-target="#tragedy">Tragedy</a></li>
  </ul></li>
  <li><a href="#what-went-wrong" id="toc-what-went-wrong" class="nav-link" data-scroll-target="#what-went-wrong">What went wrong?</a>
  <ul class="collapse">
  <li><a href="#tuftes-take" id="toc-tuftes-take" class="nav-link" data-scroll-target="#tuftes-take">Tufte’s take</a></li>
  <li><a href="#morton-thiokol-charts" id="toc-morton-thiokol-charts" class="nav-link" data-scroll-target="#morton-thiokol-charts">Morton Thiokol Charts</a></li>
  <li><a href="#tuftes-version" id="toc-tuftes-version" class="nav-link" data-scroll-target="#tuftes-version">Tufte’s version</a></li>
  </ul></li>
  <li><a href="#why-create-visualizations" id="toc-why-create-visualizations" class="nav-link" data-scroll-target="#why-create-visualizations">Why create visualizations?</a>
  <ul class="collapse">
  <li><a href="#make-informed-descisions" id="toc-make-informed-descisions" class="nav-link" data-scroll-target="#make-informed-descisions">Make informed descisions</a></li>
  <li><a href="#exploration---understand-data" id="toc-exploration---understand-data" class="nav-link" data-scroll-target="#exploration---understand-data">Exploration - Understand data</a></li>
  <li><a href="#exploration---understand-data-1" id="toc-exploration---understand-data-1" class="nav-link" data-scroll-target="#exploration---understand-data-1">Exploration - Understand data</a></li>
  <li><a href="#exploration---understand-data-2" id="toc-exploration---understand-data-2" class="nav-link" data-scroll-target="#exploration---understand-data-2">Exploration - Understand data</a></li>
  <li><a href="#exploration---anscombes-quartet" id="toc-exploration---anscombes-quartet" class="nav-link" data-scroll-target="#exploration---anscombes-quartet">Exploration - Anscombe’s quartet</a></li>
  </ul></li>
  <li><a href="#another-story" id="toc-another-story" class="nav-link" data-scroll-target="#another-story">Another story…</a>
  <ul class="collapse">
  <li><a href="#broad-street-cholera-outbreak" id="toc-broad-street-cholera-outbreak" class="nav-link" data-scroll-target="#broad-street-cholera-outbreak">1854 Broad Street cholera outbreak</a></li>
  <li><a href="#jon-snow" id="toc-jon-snow" class="nav-link" data-scroll-target="#jon-snow">Jon Snow</a></li>
  <li><a href="#john-snow" id="toc-john-snow" class="nav-link" data-scroll-target="#john-snow">Jo<strong>h</strong>n Snow</a></li>
  <li><a href="#john-snows-map" id="toc-john-snows-map" class="nav-link" data-scroll-target="#john-snows-map">John Snow’s map</a></li>
  <li><a href="#john-snows-map-1" id="toc-john-snows-map-1" class="nav-link" data-scroll-target="#john-snows-map-1">John Snow’s map</a></li>
  <li><a href="#validation" id="toc-validation" class="nav-link" data-scroll-target="#validation">Validation</a></li>
  </ul></li>
  <li><a href="#communication-inspriation-activism" id="toc-communication-inspriation-activism" class="nav-link" data-scroll-target="#communication-inspriation-activism">Communication, inspriation &amp; activism</a>
  <ul class="collapse">
  <li><a href="#w.-e.-b.-dubois" id="toc-w.-e.-b.-dubois" class="nav-link" data-scroll-target="#w.-e.-b.-dubois">W. E. B. DuBois</a></li>
  <li><a href="#nigel-holmes" id="toc-nigel-holmes" class="nav-link" data-scroll-target="#nigel-holmes">Nigel Holmes</a></li>
  <li><a href="#mona-chalabi" id="toc-mona-chalabi" class="nav-link" data-scroll-target="#mona-chalabi">Mona Chalabi</a></li>
  </ul></li>
  <li><a href="#how-should-we-approach-visualization" id="toc-how-should-we-approach-visualization" class="nav-link" data-scroll-target="#how-should-we-approach-visualization">How should we approach visualization?</a>
  <ul class="collapse">
  <li><a href="#visual-language" id="toc-visual-language" class="nav-link" data-scroll-target="#visual-language">Visual language</a></li>
  <li><a href="#bertin-a-semiology-of-graphics" id="toc-bertin-a-semiology-of-graphics" class="nav-link" data-scroll-target="#bertin-a-semiology-of-graphics">Bertin: A Semiology of Graphics</a></li>
  <li><a href="#visualization-communicates-information-efficiently" id="toc-visualization-communicates-information-efficiently" class="nav-link" data-scroll-target="#visualization-communicates-information-efficiently">Visualization communicates information <em>efficiently</em></a></li>
  <li><a href="#visual-semantics" id="toc-visual-semantics" class="nav-link" data-scroll-target="#visual-semantics">Visual semantics</a></li>
  <li><a href="#visual-semantics-1" id="toc-visual-semantics-1" class="nav-link" data-scroll-target="#visual-semantics-1">Visual semantics</a></li>
  </ul></li>
  <li><a href="#what-tools-do-we-have-to-communicate-through-visualization" id="toc-what-tools-do-we-have-to-communicate-through-visualization" class="nav-link" data-scroll-target="#what-tools-do-we-have-to-communicate-through-visualization">What tools do we have to communicate through visualization?</a>
  <ul class="collapse">
  <li><a href="#bertins-visual-variables" id="toc-bertins-visual-variables" class="nav-link" data-scroll-target="#bertins-visual-variables">Bertin’s visual variables</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise!</a></li>
  </ul></li>
  <li><a href="#what-was-your-strategy" id="toc-what-was-your-strategy" class="nav-link" data-scroll-target="#what-was-your-strategy">What was your strategy?</a></li>
  <li><a href="#grammar-of-graphics" id="toc-grammar-of-graphics" class="nav-link" data-scroll-target="#grammar-of-graphics">Grammar of Graphics</a>
  <ul class="collapse">
  <li><a href="#grammar-of-graphics-1" id="toc-grammar-of-graphics-1" class="nav-link" data-scroll-target="#grammar-of-graphics-1">Grammar of graphics</a></li>
  <li><a href="#reminder-ggplot" id="toc-reminder-ggplot" class="nav-link" data-scroll-target="#reminder-ggplot">Reminder: ggplot</a></li>
  <li><a href="#components-of-the-grammar-of-graphics" id="toc-components-of-the-grammar-of-graphics" class="nav-link" data-scroll-target="#components-of-the-grammar-of-graphics">Components of the grammar of graphics</a></li>
  </ul></li>
  <li><a href="#how-to-build-a-plot" id="toc-how-to-build-a-plot" class="nav-link" data-scroll-target="#how-to-build-a-plot">How to build a plot</a>
  <ul class="collapse">
  <li><a href="#start-with-tidy-data" id="toc-start-with-tidy-data" class="nav-link" data-scroll-target="#start-with-tidy-data">Start with <strong>tidy data</strong></a></li>
  <li><a href="#define-an-aesthetic-mapping" id="toc-define-an-aesthetic-mapping" class="nav-link" data-scroll-target="#define-an-aesthetic-mapping">Define an <strong>aesthetic mapping</strong></a></li>
  <li><a href="#define-an-aesthetic-mapping-1" id="toc-define-an-aesthetic-mapping-1" class="nav-link" data-scroll-target="#define-an-aesthetic-mapping-1">Define an <strong>aesthetic mapping</strong></a></li>
  <li><a href="#examples-of-visual-encoding-dimensions" id="toc-examples-of-visual-encoding-dimensions" class="nav-link" data-scroll-target="#examples-of-visual-encoding-dimensions">Examples of visual encoding dimensions</a></li>
  <li><a href="#the-set-of-possible-encodings-depends-on-the-variable-type" id="toc-the-set-of-possible-encodings-depends-on-the-variable-type" class="nav-link" data-scroll-target="#the-set-of-possible-encodings-depends-on-the-variable-type">The set of possible encodings depends on the <strong>variable type</strong></a></li>
  <li><a href="#choose-a-geometry" id="toc-choose-a-geometry" class="nav-link" data-scroll-target="#choose-a-geometry">Choose a <strong>geometry</strong></a></li>
  <li><a href="#many-different-geometries" id="toc-many-different-geometries" class="nav-link" data-scroll-target="#many-different-geometries">Many different geometries</a></li>
  <li><a href="#geometries-are-abstract" id="toc-geometries-are-abstract" class="nav-link" data-scroll-target="#geometries-are-abstract">Geometries are abstract</a></li>
  <li><a href="#geometries-are-abstract-1" id="toc-geometries-are-abstract-1" class="nav-link" data-scroll-target="#geometries-are-abstract-1">Geometries are abstract</a></li>
  <li><a href="#define-a-scale-for-each-mapping" id="toc-define-a-scale-for-each-mapping" class="nav-link" data-scroll-target="#define-a-scale-for-each-mapping">Define a <strong>scale</strong> for each mapping</a></li>
  <li><a href="#scales-are-usually-invertable-functions" id="toc-scales-are-usually-invertable-functions" class="nav-link" data-scroll-target="#scales-are-usually-invertable-functions">Scales are (usually) invertable functions</a></li>
  <li><a href="#show-scales-through-axes-and-legends" id="toc-show-scales-through-axes-and-legends" class="nav-link" data-scroll-target="#show-scales-through-axes-and-legends">Show scales through axes and legends</a></li>
  <li><a href="#some-scales-are-complicated" id="toc-some-scales-are-complicated" class="nav-link" data-scroll-target="#some-scales-are-complicated">Some scales are complicated!</a></li>
  <li><a href="#optional-define-a-coordinate-system" id="toc-optional-define-a-coordinate-system" class="nav-link" data-scroll-target="#optional-define-a-coordinate-system">(Optional) Define a <strong>coordinate system</strong></a></li>
  </ul></li>
  <li><a href="#a-layered-grammar-of-graphics" id="toc-a-layered-grammar-of-graphics" class="nav-link" data-scroll-target="#a-layered-grammar-of-graphics">A <strong>Layered</strong> Grammar of Graphics</a>
  <ul class="collapse">
  <li><a href="#a-layer-is-a-single-view-of-the-data" id="toc-a-layer-is-a-single-view-of-the-data" class="nav-link" data-scroll-target="#a-layer-is-a-single-view-of-the-data">A <strong>layer</strong> is a single view of the data</a></li>
  <li><a href="#scales-are-generally-shared-across-layers" id="toc-scales-are-generally-shared-across-layers" class="nav-link" data-scroll-target="#scales-are-generally-shared-across-layers">Scales are (generally) <strong>shared</strong> across layers</a></li>
  <li><a href="#finally-add-annotations" id="toc-finally-add-annotations" class="nav-link" data-scroll-target="#finally-add-annotations">Finally: add <strong>annotations</strong></a></li>
  </ul></li>
  <li><a href="#translating-the-grammar-of-graphics-to-code-ggplot2" id="toc-translating-the-grammar-of-graphics-to-code-ggplot2" class="nav-link" data-scroll-target="#translating-the-grammar-of-graphics-to-code-ggplot2">Translating the grammar of graphics to code: ggplot2</a>
  <ul class="collapse">
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#creating-a-plot" id="toc-creating-a-plot" class="nav-link" data-scroll-target="#creating-a-plot">Creating a plot</a></li>
  <li><a href="#adding-a-layer" id="toc-adding-a-layer" class="nav-link" data-scroll-target="#adding-a-layer">Adding a layer</a></li>
  <li><a href="#equivalent-syntax" id="toc-equivalent-syntax" class="nav-link" data-scroll-target="#equivalent-syntax">Equivalent syntax</a></li>
  <li><a href="#choosing-scales" id="toc-choosing-scales" class="nav-link" data-scroll-target="#choosing-scales">Choosing scales</a></li>
  <li><a href="#changing-the-coordinate-system" id="toc-changing-the-coordinate-system" class="nav-link" data-scroll-target="#changing-the-coordinate-system">Changing the coordinate system</a></li>
  <li><a href="#adding-annotations" id="toc-adding-annotations" class="nav-link" data-scroll-target="#adding-annotations">Adding annotations</a></li>
  <li><a href="#configuration" id="toc-configuration" class="nav-link" data-scroll-target="#configuration">Configuration</a></li>
  </ul></li>
  <li><a href="#how-do-we-make-good-choices-when-making-visualizations" id="toc-how-do-we-make-good-choices-when-making-visualizations" class="nav-link" data-scroll-target="#how-do-we-make-good-choices-when-making-visualizations">How do we make good choices when making visualizations?</a></li>
  <li><a href="#a-poetry-of-graphics" id="toc-a-poetry-of-graphics" class="nav-link" data-scroll-target="#a-poetry-of-graphics">A <em>poetry</em> of graphics</a>
  <ul class="collapse">
  <li><a href="#exercise-aesthetic-mappings" id="toc-exercise-aesthetic-mappings" class="nav-link" data-scroll-target="#exercise-aesthetic-mappings">Exercise: Aesthetic mappings</a></li>
  </ul></li>
  <li><a href="#what-did-we-find" id="toc-what-did-we-find" class="nav-link" data-scroll-target="#what-did-we-find">What did we find?</a>
  <ul class="collapse">
  <li><a href="#previous-studies" id="toc-previous-studies" class="nav-link" data-scroll-target="#previous-studies">Previous studies</a></li>
  <li><a href="#mackinlays-ranking" id="toc-mackinlays-ranking" class="nav-link" data-scroll-target="#mackinlays-ranking">MacKinlay’s Ranking</a></li>
  </ul></li>
  <li><a href="#some-principles" id="toc-some-principles" class="nav-link" data-scroll-target="#some-principles">Some principles</a>
  <ul class="collapse">
  <li><a href="#a-first-principle-importance-ordering" id="toc-a-first-principle-importance-ordering" class="nav-link" data-scroll-target="#a-first-principle-importance-ordering">A first principle: <strong>importance ordering</strong></a></li>
  <li><a href="#another-principle-expressiveness" id="toc-another-principle-expressiveness" class="nav-link" data-scroll-target="#another-principle-expressiveness">Another principle: <strong>expressiveness</strong></a></li>
  <li><a href="#express-all-the-facts-overplotting" id="toc-express-all-the-facts-overplotting" class="nav-link" data-scroll-target="#express-all-the-facts-overplotting">Express all the facts: <strong>overplotting</strong></a></li>
  <li><a href="#encode-only-the-facts-consistency" id="toc-encode-only-the-facts-consistency" class="nav-link" data-scroll-target="#encode-only-the-facts-consistency">Encode only the facts: <strong>consistency</strong></a></li>
  <li><a href="#encode-only-the-facts-ordering" id="toc-encode-only-the-facts-ordering" class="nav-link" data-scroll-target="#encode-only-the-facts-ordering">Encode only the facts: <strong>ordering</strong></a></li>
  <li><a href="#violations-of-these-principles" id="toc-violations-of-these-principles" class="nav-link" data-scroll-target="#violations-of-these-principles">Violations of these principles</a></li>
  <li><a href="#tuftes-fixes" id="toc-tuftes-fixes" class="nav-link" data-scroll-target="#tuftes-fixes">Tufte’s fixes</a></li>
  <li><a href="#tuftes-fixes-1" id="toc-tuftes-fixes-1" class="nav-link" data-scroll-target="#tuftes-fixes-1">Tufte’s fixes</a></li>
  </ul></li>
  <li><a href="#above-all-else-show-the-data" id="toc-above-all-else-show-the-data" class="nav-link" data-scroll-target="#above-all-else-show-the-data"><em>Above all else show the data</em></a></li>
  <li><a href="#more-principles" id="toc-more-principles" class="nav-link" data-scroll-target="#more-principles">More principles!</a>
  <ul class="collapse">
  <li><a href="#tuftes-philosophy-minimalism" id="toc-tuftes-philosophy-minimalism" class="nav-link" data-scroll-target="#tuftes-philosophy-minimalism">Tufte’s philosophy: <strong>minimalism</strong></a></li>
  <li><a href="#data-ink-ratio" id="toc-data-ink-ratio" class="nav-link" data-scroll-target="#data-ink-ratio">Data-ink ratio</a></li>
  <li><a href="#maximal-data-ink-ratio-eeg" id="toc-maximal-data-ink-ratio-eeg" class="nav-link" data-scroll-target="#maximal-data-ink-ratio-eeg">Maximal data-ink ratio: EEG</a></li>
  <li><a href="#data-ink-ratio-1" id="toc-data-ink-ratio-1" class="nav-link" data-scroll-target="#data-ink-ratio-1">Data-ink ratio</a></li>
  <li><a href="#data-ink-ratio-2" id="toc-data-ink-ratio-2" class="nav-link" data-scroll-target="#data-ink-ratio-2">Data-ink ratio</a></li>
  <li><a href="#data-ink-ratio-3" id="toc-data-ink-ratio-3" class="nav-link" data-scroll-target="#data-ink-ratio-3">Data-ink ratio</a></li>
  <li><a href="#data-ink-ratio-4" id="toc-data-ink-ratio-4" class="nav-link" data-scroll-target="#data-ink-ratio-4">Data-ink ratio</a></li>
  <li><a href="#chart-junk" id="toc-chart-junk" class="nav-link" data-scroll-target="#chart-junk">Chart junk</a></li>
  <li><a href="#distracting-patterns" id="toc-distracting-patterns" class="nav-link" data-scroll-target="#distracting-patterns">Distracting patterns</a></li>
  <li><a href="#unnecessary-artistic-embellishment" id="toc-unnecessary-artistic-embellishment" class="nav-link" data-scroll-target="#unnecessary-artistic-embellishment">Unnecessary artistic embellishment</a></li>
  <li><a href="#this-may-be-the-worst-graphic-ever-put-into-print" id="toc-this-may-be-the-worst-graphic-ever-put-into-print" class="nav-link" data-scroll-target="#this-may-be-the-worst-graphic-ever-put-into-print">“This may be the worst graphic ever put into print”</a></li>
  </ul></li>
  <li><a href="#but-is-tufte-right" id="toc-but-is-tufte-right" class="nav-link" data-scroll-target="#but-is-tufte-right">But is Tufte right?</a>
  <ul class="collapse">
  <li><a href="#artistic-embellishment" id="toc-artistic-embellishment" class="nav-link" data-scroll-target="#artistic-embellishment">Artistic embellishment</a></li>
  <li><a href="#a-perceptual-study" id="toc-a-perceptual-study" class="nav-link" data-scroll-target="#a-perceptual-study">A perceptual study</a></li>
  <li><a href="#the-results" id="toc-the-results" class="nav-link" data-scroll-target="#the-results">The results</a></li>
  <li><a href="#the-results-1" id="toc-the-results-1" class="nav-link" data-scroll-target="#the-results-1">The results</a></li>
  <li><a href="#takeaway" id="toc-takeaway" class="nav-link" data-scroll-target="#takeaway">Takeaway</a></li>
  </ul></li>
  <li><a href="#well-cover-more-principles-in-future-lectures" id="toc-well-cover-more-principles-in-future-lectures" class="nav-link" data-scroll-target="#well-cover-more-principles-in-future-lectures">We’ll cover more principles in future lectures!</a></li>
  <li><a href="#epilogue-the-best-graphic-ever-put-into-print" id="toc-epilogue-the-best-graphic-ever-put-into-print" class="nav-link" data-scroll-target="#epilogue-the-best-graphic-ever-put-into-print"><strong>Epilogue:</strong> The best graphic ever put into print?</a>
  <ul class="collapse">
  <li><a href="#tuftes-answer-charles-minards-visualization-of-napoleons-march" id="toc-tuftes-answer-charles-minards-visualization-of-napoleons-march" class="nav-link" data-scroll-target="#tuftes-answer-charles-minards-visualization-of-napoleons-march"><strong>Tufte’s answer:</strong> Charles Minard’s visualization of Napoleon’s march</a></li>
  </ul></li>
  <li><a href="#file-formats-and-loading-data" id="toc-file-formats-and-loading-data" class="nav-link" data-scroll-target="#file-formats-and-loading-data">File formats and loading data</a>
  <ul class="collapse">
  <li><a href="#csv-and-tsv-files" id="toc-csv-and-tsv-files" class="nav-link" data-scroll-target="#csv-and-tsv-files">CSV (and TSV) files</a></li>
  <li><a href="#loading-csv-and-tsv-files" id="toc-loading-csv-and-tsv-files" class="nav-link" data-scroll-target="#loading-csv-and-tsv-files">Loading CSV (and TSV) files</a></li>
  <li><a href="#csv-and-tsv-issues" id="toc-csv-and-tsv-issues" class="nav-link" data-scroll-target="#csv-and-tsv-issues">CSV (and TSV) issues</a></li>
  <li><a href="#csv-and-tsv-issues-1" id="toc-csv-and-tsv-issues-1" class="nav-link" data-scroll-target="#csv-and-tsv-issues-1">CSV (and TSV) issues</a></li>
  <li><a href="#csv-and-tsv-issues-2" id="toc-csv-and-tsv-issues-2" class="nav-link" data-scroll-target="#csv-and-tsv-issues-2">CSV (and TSV) issues</a></li>
  <li><a href="#python" id="toc-python" class="nav-link" data-scroll-target="#python">Python</a></li>
  <li><a href="#json-javascript-object-notation" id="toc-json-javascript-object-notation" class="nav-link" data-scroll-target="#json-javascript-object-notation">JSON (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation)</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="slides-0-2.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Analytics and Visualization</h1>
<p class="subtitle lead">0-2: Introduction to Visualization</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prof.&nbsp;Gabe Hope </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="why-is-effective-visualization-important" class="level1">
<h1>Why is effective visualization important?</h1>
</section>
<section id="january-26-1986" class="level1">
<h1>January 26, 1986</h1>
<section id="challenger-mission" class="level2">
<h2 class="anchored" data-anchor-id="challenger-mission">Challenger Mission</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/craft.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div><div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/crew.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><strong>Crew of 7:</strong> Dick Scobee, Michael Smith, Ellison Onizuka, Judith Resnik, Ronald McNair, Gregory Jarvis, and Chirsta McAuliffe.</p>
</div>
</div>
</section>
<section id="a-cold-launch-day" class="level2">
<h2 class="anchored" data-anchor-id="a-cold-launch-day">A cold launch day</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/ice.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="engineering-concerns" class="level2">
<h2 class="anchored" data-anchor-id="engineering-concerns">Engineering concerns</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/diagram.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="last-minute-debate" class="level2">
<h2 class="anchored" data-anchor-id="last-minute-debate">Last minute debate</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/warning.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="a-predictable-failure" class="level2">
<h2 class="anchored" data-anchor-id="a-predictable-failure">A predictable failure</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/plume.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Plume indicating an O-ring failure at launch</p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/plume2.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tragedy" class="level2">
<h2 class="anchored" data-anchor-id="tragedy">Tragedy</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/explosion.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="what-went-wrong" class="level1">
<h1>What went wrong?</h1>
<section id="tuftes-take" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-take">Tufte’s take</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<p>“<em>…there was a clear proximate cause: an inability to assess the link between cool temperature and O-ring damage on earlier flights…</em>”</p>
<p>“<em>…rocket engineers and managers needed a quick, smart <strong>analysis</strong> of evidence about the threat of cold to the O-rings, as well as an effective <strong>presentation</strong> of evidence in order to convince NASA offcials not to launch</em>”</p>
<ul>
<li>Edward Tufte, Visual Explanations</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/tufte-portrait.jpg" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="morton-thiokol-charts" class="level2">
<h2 class="anchored" data-anchor-id="morton-thiokol-charts">Morton Thiokol Charts</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/damage_table.png" class="quarto-figure quarto-figure-center figure-img" height="300"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/o-ring-history.png" class="quarto-figure quarto-figure-center figure-img" height="250"></p>
</figure>
</div>
</section>
<section id="tuftes-version" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-version">Tufte’s version</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/tufte.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="why-create-visualizations" class="level1">
<h1>Why create visualizations?</h1>
<section id="make-informed-descisions" class="level2">
<h2 class="anchored" data-anchor-id="make-informed-descisions">Make informed descisions</h2>
<p>The challenger disaster shows the importance of this</p>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/damage_table.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/tufte.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="exploration---understand-data" class="level2">
<h2 class="anchored" data-anchor-id="exploration---understand-data">Exploration - Understand data</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/quartet-data.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>What are the differences between these 4 datasets?</p>
</section>
<section id="exploration---understand-data-1" class="level2">
<h2 class="anchored" data-anchor-id="exploration---understand-data-1">Exploration - Understand data</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/quartet-data.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>We could try using some basic tools from statistics to answer this question. <em>e.g.&nbsp;means, variances, corrleations, regression coefficients, etc.</em></p>
</section>
<section id="exploration---understand-data-2" class="level2">
<h2 class="anchored" data-anchor-id="exploration---understand-data-2">Exploration - Understand data</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/quartet-stats.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>They’re the same for every dataset?!?!</p>
<ul>
<li>Can we conclude that the datasets are all the same?</li>
</ul>
</section>
<section id="exploration---anscombes-quartet" class="level2">
<h2 class="anchored" data-anchor-id="exploration---anscombes-quartet">Exploration - Anscombe’s quartet</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/quartet.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Visualization shows there’s much more going on!</p>
</section>
</section>
<section id="another-story" class="level1">
<h1>Another story…</h1>
<p>Link to more entertaining retelling: <a href="https://www.youtube.com/watch?v=Na9iO_HEe14">here</a></p>
<section id="broad-street-cholera-outbreak" class="level2">
<h2 class="anchored" data-anchor-id="broad-street-cholera-outbreak">1854 Broad Street cholera outbreak</h2>
<div class="columns">
<div class="column" style="font-size: 90%">
<p>Cholera was a <strong>deadly</strong> disease in 1850’s London</p>
<p>Thought to be caused by <em>miasma</em> or “bad air”</p>
<p>An especially bad outbreak happend in Soho in 1854…</p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/cartoon.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="jon-snow" class="level2">
<h2 class="anchored" data-anchor-id="jon-snow">Jon Snow</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/got.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="john-snow" class="level2">
<h2 class="anchored" data-anchor-id="john-snow">Jo<strong>h</strong>n Snow</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/snow.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="john-snows-map" class="level2">
<h2 class="anchored" data-anchor-id="john-snows-map">John Snow’s map</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/map.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="john-snows-map-1" class="level2">
<h2 class="anchored" data-anchor-id="john-snows-map-1">John Snow’s map</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/pump.jpg" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/exploration/map.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
</div>
</div>
<p><strong>The source:</strong> A pump with contaminated water</p>
</section>
<section id="validation" class="level2">
<h2 class="anchored" data-anchor-id="validation">Validation</h2>
<div class="columns">
<div class="column" style="font-size: 100%">
<p>Even if we <em>think</em> we know what’s going on, we should visualize to check our understanding!</p>
<ul>
<li><strong>1980:</strong> Jackman shows the effect of earlier work is dominated by an outlier</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/validation/jackman.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="communication-inspriation-activism" class="level1">
<h1>Communication, inspriation &amp; activism</h1>
<p>Visualization is a <strong>powerful</strong> tool to share information with the world and inspire change</p>
<section id="w.-e.-b.-dubois" class="level2">
<h2 class="anchored" data-anchor-id="w.-e.-b.-dubois">W. E. B. DuBois</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/communication/slavery-dubois.png" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
<p>Sociologist and civil rights activist W. E. B. Du Bois made many influential visualizations.</p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/communication/dubois.png" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="nigel-holmes" class="level2">
<h2 class="anchored" data-anchor-id="nigel-holmes">Nigel Holmes</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/communication/paychecks.png" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
<p>Graphic designer Nigel Holmes is known for playful and informative visualizations.</p>
</div><div class="column" style="width:50%;">
<p><img src="pictures/communication/monstrous.png" class="quarto-figure quarto-figure-center" height="400"> <img src="pictures/communication/holmes.png" class="quarto-figure quarto-figure-center" height="200"></p>
</div>
</div>
</section>
<section id="mona-chalabi" class="level2">
<h2 class="anchored" data-anchor-id="mona-chalabi">Mona Chalabi</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/communication/bezos.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
<p>Contemporary data journalist Mona Chalabi uses visualization to create impactful stories and inspire activism.</p>
</div><div class="column" style="width:50%;">
<p><img src="pictures/communication/gaza.png" class="quarto-figure quarto-figure-center" height="400"> <img src="pictures/communication/chalabi.png" class="quarto-figure quarto-figure-center" height="200"></p>
</div>
</div>
</section>
</section>
<section id="how-should-we-approach-visualization" class="level1">
<h1>How should we approach visualization?</h1>
<section id="visual-language" class="level2">
<h2 class="anchored" data-anchor-id="visual-language">Visual language</h2>
<p>Like language, visualization is a <strong>medium</strong> for communication</p>
</section>
<section id="bertin-a-semiology-of-graphics" class="level2">
<h2 class="anchored" data-anchor-id="bertin-a-semiology-of-graphics">Bertin: A Semiology of Graphics</h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/bertin.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>Images perceived as a set of signs</p>
<p>Sender encodes information in signs</p>
<p>Receiver decodes information from signs</p>
<ul>
<li><em><strong>Jacques Bertin</strong> - Sémiologie Graphique, 1967</em></li>
</ul>
</div>
</div>
</section>
<section id="visualization-communicates-information-efficiently" class="level2">
<h2 class="anchored" data-anchor-id="visualization-communicates-information-efficiently">Visualization communicates information <em>efficiently</em></h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div id="536f50d8" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">

            <div id="gk6vge"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("gk6vge").appendChild(div);
                    };
                    var e = document.getElementById("gk6vge");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Cameroon</td>
<td>Sub-Saharan Africa</td>
<td>1997.18</td>
<td>18054929</td>
<td>51.39</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Cape Verde</td>
<td>Sub-Saharan Africa</td>
<td>3456.14</td>
<td>426113</td>
<td>71.68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Chad</td>
<td>Sub-Saharan Africa</td>
<td>1557.83</td>
<td>10541156</td>
<td>48.97</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Comoros</td>
<td>Sub-Saharan Africa</td>
<td>1016.42</td>
<td>731281</td>
<td>65.77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Congo, Dem. Rep.</td>
<td>Sub-Saharan Africa</td>
<td>358.80</td>
<td>66604314</td>
<td>47.81</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Congo, Rep.</td>
<td>Sub-Saharan Africa</td>
<td>3834.67</td>
<td>3903318</td>
<td>53.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Cote d'Ivoire</td>
<td>Sub-Saharan Africa</td>
<td>1520.23</td>
<td>18373060</td>
<td>57.86</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Equatorial Guinea</td>
<td>Sub-Saharan Africa</td>
<td>15342.20</td>
<td>562339</td>
<td>50.64</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Eritrea</td>
<td>Sub-Saharan Africa</td>
<td>548.37</td>
<td>5028475</td>
<td>60.03</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Ethiopia</td>
<td>Sub-Saharan Africa</td>
<td>812.16</td>
<td>78254090</td>
<td>55.69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Gabon</td>
<td>Sub-Saharan Africa</td>
<td>12704.99</td>
<td>1484149</td>
<td>60.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Ghana</td>
<td>Sub-Saharan Africa</td>
<td>1382.95</td>
<td>23336661</td>
<td>56.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Guinea</td>
<td>Sub-Saharan Africa</td>
<td>908.86</td>
<td>10211437</td>
<td>58.35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Guinea-Bissau</td>
<td>Sub-Saharan Africa</td>
<td>568.94</td>
<td>1502442</td>
<td>48.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Kenya</td>
<td>Sub-Saharan Africa</td>
<td>1493.53</td>
<td>36529155</td>
<td>54.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="56c091c1" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">

            <div id="a4ptl8"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("a4ptl8").appendChild(div);
                    };
                    var e = document.getElementById("a4ptl8");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="2">
   <div id="JbBjgQ"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"ggsize":{
"width":700.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("JbBjgQ");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div>
</div>
<div style="font-size: 90%">
<p>We can process much more information from the visualization than the table.</p>
</div>
</section>
<section id="visual-semantics" class="level2">
<h2 class="anchored" data-anchor-id="visual-semantics">Visual semantics</h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/visual-language/semantics.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><em>From Jeffery Heer</em></p>
</div><div class="column" style="width:50%;">
<p>What can we understand from this plot?</p>
</div>
</div>
</section>
<section id="visual-semantics-1" class="level2">
<h2 class="anchored" data-anchor-id="visual-semantics-1">Visual semantics</h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/visual-language/semantics.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><em>From Jeffery Heer</em></p>
</div><div class="column" style="width:50%;">
<p>What can we understand from this plot?</p>
<ul>
<li>A, B, C are distinguishable</li>
<li>B is between A and C</li>
<li>BC is twice as long as AB</li>
</ul>
</div>
</div>
<p>“<em>Resemblance, order and proportional are the three signfields in graphics.</em>” - Bertin</p>
</section>
</section>
<section id="what-tools-do-we-have-to-communicate-through-visualization" class="level1">
<h1>What tools do we have to communicate through visualization?</h1>
<p>What is our <strong>vocabulary</strong>?</p>
<section id="bertins-visual-variables" class="level2">
<h2 class="anchored" data-anchor-id="bertins-visual-variables">Bertin’s visual variables</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/encodings.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="exercise" class="level2">
<h2 class="anchored" data-anchor-id="exercise">Exercise!</h2>
<p>Sketch a visualization of this small dataset</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/visual-language/wickham-data.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="what-was-your-strategy" class="level1">
<h1>What was your strategy?</h1>
</section>
<section id="grammar-of-graphics" class="level1">
<h1>Grammar of Graphics</h1>
<p>A <strong>framework</strong> for building visualizations</p>
<section id="grammar-of-graphics-1" class="level2">
<h2 class="anchored" data-anchor-id="grammar-of-graphics-1">Grammar of graphics</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<p><img src="pictures/grammar-of-graphics/wilkinson.png" class="quarto-figure quarto-figure-center" height="200"> <img src="pictures/grammar-of-graphics/cover.png" class="quarto-figure quarto-figure-center" height="300"></p>
<p>Original grammar of graphics was introduced by Leland Wilkinson</p>
</div><div class="column" style="font-size: 75%">
<p><img src="pictures/grammar-of-graphics/hadley.jpg" class="quarto-figure quarto-figure-center" height="200"> <img src="pictures/grammar-of-graphics/ggplot.png" class="quarto-figure quarto-figure-center" height="300"></p>
<p>We’ll focus on an updated version from Hadley Wickham that forms the basis for <strong>ggplot2</strong> and <strong>Let’s Plot</strong>.</p>
</div>
</div>
</section>
<section id="reminder-ggplot" class="level2">
<h2 class="anchored" data-anchor-id="reminder-ggplot">Reminder: ggplot</h2>
<p><strong>ggplot2</strong> is a hugely influential visualization library.</p>
<ul>
<li>Designed by Hadley Wickham</li>
<li>Only for the R language</li>
</ul>
<p><strong>Let’s Plot</strong> is a port for Python (and Kotlin)</p>
<ul>
<li>We’ll be using it in this class</li>
</ul>
</section>
<section id="components-of-the-grammar-of-graphics" class="level2">
<h2 class="anchored" data-anchor-id="components-of-the-grammar-of-graphics">Components of the grammar of graphics</h2>
<p><strong>Stretching the metaphor:</strong> The <em>parts of speech</em> for our visual language</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Data</li>
<li>Aesthetic mappings</li>
<li>Geometries</li>
<li>Transforms</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Scales</li>
<li>Coordinate systems</li>
<li>Faceting systems</li>
<li>Annotations</li>
</ul>
</div>
</div>
</section>
</section>
<section id="how-to-build-a-plot" class="level1">
<h1>How to build a plot</h1>
<section id="start-with-tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="start-with-tidy-data">Start with <strong>tidy data</strong></h2>
<p>Clearly define the <strong>observations</strong> and <strong>variables</strong> in our dataset</p>
<div id="faac92e2" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">

            <div id="cCjOej"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("cCjOej").appendChild(div);
                    };
                    var e = document.getElementById("cCjOej");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Cameroon</td>
<td>Sub-Saharan Africa</td>
<td>1997.18</td>
<td>18054929</td>
<td>51.39</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Cape Verde</td>
<td>Sub-Saharan Africa</td>
<td>3456.14</td>
<td>426113</td>
<td>71.68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Chad</td>
<td>Sub-Saharan Africa</td>
<td>1557.83</td>
<td>10541156</td>
<td>48.97</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Comoros</td>
<td>Sub-Saharan Africa</td>
<td>1016.42</td>
<td>731281</td>
<td>65.77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Congo, Dem. Rep.</td>
<td>Sub-Saharan Africa</td>
<td>358.80</td>
<td>66604314</td>
<td>47.81</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Congo, Rep.</td>
<td>Sub-Saharan Africa</td>
<td>3834.67</td>
<td>3903318</td>
<td>53.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Cote d'Ivoire</td>
<td>Sub-Saharan Africa</td>
<td>1520.23</td>
<td>18373060</td>
<td>57.86</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Equatorial Guinea</td>
<td>Sub-Saharan Africa</td>
<td>15342.20</td>
<td>562339</td>
<td>50.64</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Eritrea</td>
<td>Sub-Saharan Africa</td>
<td>548.37</td>
<td>5028475</td>
<td>60.03</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Ethiopia</td>
<td>Sub-Saharan Africa</td>
<td>812.16</td>
<td>78254090</td>
<td>55.69</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="define-an-aesthetic-mapping" class="level2">
<h2 class="anchored" data-anchor-id="define-an-aesthetic-mapping">Define an <strong>aesthetic mapping</strong></h2>
<p>Our aesthetic mapping defines how we’ll map each <strong>data dimension</strong> (variable) to a corresponding <strong>visual dimension</strong> (aesthetic)</p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div id="08b1bd39" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">

            <div id="eP7be6"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("eP7be6").appendChild(div);
                    };
                    var e = document.getElementById("eP7be6");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Cameroon</td>
<td>Sub-Saharan Africa</td>
<td>1997.18</td>
<td>18054929</td>
<td>51.39</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Cape Verde</td>
<td>Sub-Saharan Africa</td>
<td>3456.14</td>
<td>426113</td>
<td>71.68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Chad</td>
<td>Sub-Saharan Africa</td>
<td>1557.83</td>
<td>10541156</td>
<td>48.97</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Comoros</td>
<td>Sub-Saharan Africa</td>
<td>1016.42</td>
<td>731281</td>
<td>65.77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Congo, Dem. Rep.</td>
<td>Sub-Saharan Africa</td>
<td>358.80</td>
<td>66604314</td>
<td>47.81</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Congo, Rep.</td>
<td>Sub-Saharan Africa</td>
<td>3834.67</td>
<td>3903318</td>
<td>53.75</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Cote d'Ivoire</td>
<td>Sub-Saharan Africa</td>
<td>1520.23</td>
<td>18373060</td>
<td>57.86</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Equatorial Guinea</td>
<td>Sub-Saharan Africa</td>
<td>15342.20</td>
<td>562339</td>
<td>50.64</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Eritrea</td>
<td>Sub-Saharan Africa</td>
<td>548.37</td>
<td>5028475</td>
<td>60.03</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Ethiopia</td>
<td>Sub-Saharan Africa</td>
<td>812.16</td>
<td>78254090</td>
<td>55.69</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Gabon</td>
<td>Sub-Saharan Africa</td>
<td>12704.99</td>
<td>1484149</td>
<td>60.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Ghana</td>
<td>Sub-Saharan Africa</td>
<td>1382.95</td>
<td>23336661</td>
<td>56.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Guinea</td>
<td>Sub-Saharan Africa</td>
<td>908.86</td>
<td>10211437</td>
<td>58.35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Guinea-Bissau</td>
<td>Sub-Saharan Africa</td>
<td>568.94</td>
<td>1502442</td>
<td>48.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Kenya</td>
<td>Sub-Saharan Africa</td>
<td>1493.53</td>
<td>36529155</td>
<td>54.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="46b212db" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">

            <div id="xYr2uM"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("xYr2uM").appendChild(div);
                    };
                    var e = document.getElementById("xYr2uM");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="5">
   <div id="by69WC"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"ggsize":{
"width":800.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("by69WC");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div>
</div>
</section>
<section id="define-an-aesthetic-mapping-1" class="level2">
<h2 class="anchored" data-anchor-id="define-an-aesthetic-mapping-1">Define an <strong>aesthetic mapping</strong></h2>
<p>Our aesthetic mapping defines how we’ll map each <strong>data dimension</strong> (variable) to a corresponding <strong>visual dimension</strong> (aesthetic)</p>
<div class="columns">
<div class="column" style="font-size: 100%">
<div id="2ad6ffa0" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">

            <div id="FfBGMa"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("FfBGMa").appendChild(div);
                    };
                    var e = document.getElementById("FfBGMa");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>In our example:</p>
<ul>
<li>Income -&gt; x position</li>
<li>Life exp. -&gt; y position</li>
<li>Population -&gt; size</li>
<li>Region -&gt; color</li>
</ul>
</div><div class="column" style="width:50%;">
<div id="9166132e" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">

            <div id="LrQW4v"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("LrQW4v").appendChild(div);
                    };
                    var e = document.getElementById("LrQW4v");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="7">
   <div id="9YAxzm"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"ggsize":{
"width":800.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("9YAxzm");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div>
</div>
</section>
<section id="examples-of-visual-encoding-dimensions" class="level2">
<h2 class="anchored" data-anchor-id="examples-of-visual-encoding-dimensions">Examples of visual encoding dimensions</h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/channels-1.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/channels-2.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-set-of-possible-encodings-depends-on-the-variable-type" class="level2">
<h2 class="anchored" data-anchor-id="the-set-of-possible-encodings-depends-on-the-variable-type">The set of possible encodings depends on the <strong>variable type</strong></h2>
<p><strong>Categorical</strong> variables have a different space of possibilities</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/categorical.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="choose-a-geometry" class="level2">
<h2 class="anchored" data-anchor-id="choose-a-geometry">Choose a <strong>geometry</strong></h2>
<p>How do we represent each observation?</p>
<div id="25b572d0" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">

            <div id="8WoHei"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("8WoHei").appendChild(div);
                    };
                    var e = document.getElementById("8WoHei");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="8">
   <div id="Bth46H"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"ggsize":{
"width":1000.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("Bth46H");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
<p>Here we are representing each observation with a distinct <strong>point</strong> in 2-d space (a scatterplot).</p>
</section>
<section id="many-different-geometries" class="level2">
<h2 class="anchored" data-anchor-id="many-different-geometries">Many different geometries</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/geoms.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="geometries-are-abstract" class="level2">
<h2 class="anchored" data-anchor-id="geometries-are-abstract">Geometries are abstract</h2>
<p>The same geometry might be rendered in different ways</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/intervals.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="geometries-are-abstract-1" class="level2">
<h2 class="anchored" data-anchor-id="geometries-are-abstract-1">Geometries are abstract</h2>
<p>Diffent geometries may have different requirements (and options) for aesthetics:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Point:</strong> x and y coordinates</p>
<p><strong>Line:</strong> x and y coordinates, order</p>
<p><strong>Bar:</strong> x or y coordinate, length</p>
</div><div class="column" style="width:50%;">
<p><strong>Text:</strong> x and y coordinates, text</p>
<p><strong>Interval:</strong> x coordinate, min, max</p>
<p><strong>Boxplot:</strong> Median, quantiles</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/reqz.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="define-a-scale-for-each-mapping" class="level2">
<h2 class="anchored" data-anchor-id="define-a-scale-for-each-mapping">Define a <strong>scale</strong> for each mapping</h2>
<p>A scale determines how we translate the <strong>domain</strong> of a variable to the <strong>range</strong> of a visual dimension</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/scales.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="scales-are-usually-invertable-functions" class="level2">
<h2 class="anchored" data-anchor-id="scales-are-usually-invertable-functions">Scales are (usually) invertable functions</h2>
<p>Most commonly a <strong>linear</strong> function</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/linear.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
<p>But can be <strong>non-linear</strong>, e.g.&nbsp;logarithmic</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/log.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
</section>
<section id="show-scales-through-axes-and-legends" class="level2">
<h2 class="anchored" data-anchor-id="show-scales-through-axes-and-legends">Show scales through axes and legends</h2>
<p><strong>Axes</strong> show the scale for each <em>position</em> dimension.</p>
<p><strong>Legends</strong> show the scale for other dimensions (color, shape, size, etc.)</p>
<div id="d0053d7e" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">

            <div id="d9pyZF"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("d9pyZF").appendChild(div);
                    };
                    var e = document.getElementById("d9pyZF");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="9">
   <div id="bganpw"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"ggsize":{
"width":1000.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("bganpw");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</section>
<section id="some-scales-are-complicated" class="level2">
<h2 class="anchored" data-anchor-id="some-scales-are-complicated">Some scales are complicated!</h2>
<p>Color is especially tricky.</p>
<ul>
<li>Humans percieve color non-linearly</li>
<li>Not all humans percieve the same set of colors</li>
<li>One color can encode multiple channels</li>
</ul>
<p>We’ll cover this in a later lecture!</p>
</section>
<section id="optional-define-a-coordinate-system" class="level2">
<h2 class="anchored" data-anchor-id="optional-define-a-coordinate-system">(Optional) Define a <strong>coordinate system</strong></h2>
<p>A <strong>coordinate system</strong> defines how the range of each scale is represented. Usually Cartesian coordinate system, but others are possible, such as <em>polar</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/coords.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="a-layered-grammar-of-graphics" class="level1">
<h1>A <strong>Layered</strong> Grammar of Graphics</h1>
<p>Hadley Wickham</p>
<section id="a-layer-is-a-single-view-of-the-data" class="level2">
<h2 class="anchored" data-anchor-id="a-layer-is-a-single-view-of-the-data">A <strong>layer</strong> is a single view of the data</h2>
<p>Encompasses data + mapping + geometry. A plot may have more than one layer to show multiple properties of a dataset or multiple datasets.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/layers.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="scales-are-generally-shared-across-layers" class="level2">
<h2 class="anchored" data-anchor-id="scales-are-generally-shared-across-layers">Scales are (generally) <strong>shared</strong> across layers</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/layers.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="finally-add-annotations" class="level2">
<h2 class="anchored" data-anchor-id="finally-add-annotations">Finally: add <strong>annotations</strong></h2>
<p><strong>Annotations</strong>, such as titles captions and highlights, give additional context and information to the viewer.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/grammar-of-graphics/annotations.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="translating-the-grammar-of-graphics-to-code-ggplot2" class="level1">
<h1>Translating the grammar of graphics to code: ggplot2</h1>
<p>Or <strong>Let’s Plot</strong> in this class</p>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<p>Import the relevant libraries and load a dataset in the tidy format</p>
<div id="157eb32d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> lets_plot <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>LetsPlot.setup_html()</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>nations <span class="op">=</span> pd.read_csv(<span class="st">'data/nations.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

            <div id="q8ODY0"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.4.1/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("q8ODY0").appendChild(div);
                    };
                    var e = document.getElementById("q8ODY0");
                    e.appendChild(script);
                })()
            </script>
            
</div>
</div>
<p>We’ll use our Gapminder dataset from earlier</p>
<div id="0bf9b0ff" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">175</td>
<td>Timor-Leste</td>
<td>East Asia &amp; Pacific</td>
<td>2475.68</td>
<td>1130120</td>
<td>61.60</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">176</td>
<td>Tokelau</td>
<td>East Asia &amp; Pacific</td>
<td>889.43</td>
<td>1401</td>
<td>69.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">177</td>
<td>Tonga</td>
<td>East Asia &amp; Pacific</td>
<td>5104.06</td>
<td>118993</td>
<td>71.96</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">178</td>
<td>Vietnam</td>
<td>East Asia &amp; Pacific</td>
<td>2679.34</td>
<td>86116559</td>
<td>74.70</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">179</td>
<td>Vanuatu</td>
<td>East Asia &amp; Pacific</td>
<td>3943.30</td>
<td>215053</td>
<td>70.50</td>
</tr>
</tbody>
</table>

<p>180 rows × 5 columns</p>
</div>
</div>
</div>
</section>
<section id="creating-a-plot" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-plot">Creating a plot</h2>
<p>The <code>ggplot()</code> function will create an empty plot object.</p>
<div id="a5bf85c4" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ggplot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
   <div id="cRitl6"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("cRitl6");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
<div style="font-size: 75%">
<p><em>Here we get an error as we haven’t defined our components!</em></p>
</div>
</section>
<section id="adding-a-layer" class="level2">
<h2 class="anchored" data-anchor-id="adding-a-layer">Adding a layer</h2>
<p>We can add a <strong>layer</strong> to our plot, specifying the data, mapping and geometry. Here we’ll add a layer with a <strong>point</strong> geometry.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="9504ce25" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ggplot() <span class="op">+</span> geom_point(data<span class="op">=</span>nations, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
   <div id="dZXUPy"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"point",
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("dZXUPy");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">
<p><code>aes()</code> defines an aesthetic mapping, using the column names of our dataframe.</p>
<p><code>geom_point()</code> creates a point geometry layer.</p>
</div>
</div>
</section>
<section id="equivalent-syntax" class="level2">
<h2 class="anchored" data-anchor-id="equivalent-syntax">Equivalent syntax</h2>
<p>If we want default data and mappings to share across layers we can pass them to the <code>ggplot()</code> function.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="f34370e2" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ggplot(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  data<span class="op">=</span>nations, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">+</span> geom_point() <span class="op">+</span> geom_line()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
   <div id="KlGPma"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"point",
"mapping":{
},
"data_meta":{
},
"data":{
}
},{
"geom":"line",
"mapping":{
},
"data_meta":{
},
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("KlGPma");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">
<p>Here we’ll add both point and line geometries</p>
</div>
</div>
</section>
<section id="choosing-scales" class="level2">
<h2 class="anchored" data-anchor-id="choosing-scales">Choosing scales</h2>
<p>We didn’t need to specify scales, Let’s plot has sensible defaults.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="b0be8401" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ggplot() <span class="op">+</span> geom_point(data<span class="op">=</span>nations, </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>) <span class="op">+</span> scale_x_continuous(trans<span class="op">=</span><span class="st">'log2'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
   <div id="HiA7Pw"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[{
"aesthetic":"x",
"trans":"log2"
}],
"layers":[{
"geom":"point",
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("HiA7Pw");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">
<p>we can change the scales by adding them to our specification.</p>
<p>Here we’ll set the x axis scale to be <strong>logarithmic</strong></p>
</div>
</div>
</section>
<section id="changing-the-coordinate-system" class="level2">
<h2 class="anchored" data-anchor-id="changing-the-coordinate-system">Changing the coordinate system</h2>
<p>We can similarly change the default (Cartesean) coordinate system.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="041dfad3" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ggplot() <span class="op">+</span> geom_point(data<span class="op">=</span>nations, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>) <span class="op">+</span> coord_polar(theta<span class="op">=</span><span class="st">'y'</span>) <span class="op">+</span> scale_x_continuous(trans<span class="op">=</span><span class="st">'log2'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
   <div id="Fc0qSv"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"coord":{
"name":"polar",
"theta":"y"
},
"kind":"plot",
"scales":[{
"aesthetic":"x",
"trans":"log2"
}],
"layers":[{
"geom":"point",
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("Fc0qSv");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">
<p>Here we’ll make a <strong>polar</strong> plot</p>
</div>
</div>
</section>
<section id="adding-annotations" class="level2">
<h2 class="anchored" data-anchor-id="adding-annotations">Adding annotations</h2>
<p>We can also add annotations, such as a plot title. <code>ggtitle()</code> will add a title to our plot.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="400747dc" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ggplot() <span class="op">+</span> geom_point(data<span class="op">=</span>nations, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>) <span class="op">+</span>  ggtitle(<span class="st">'Income vs. Life Exp.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
   <div id="T52KYi"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"ggtitle":{
"text":"Income vs. Life Exp."
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"point",
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("T52KYi");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">

</div>
</div>
</section>
<section id="configuration" class="level2">
<h2 class="anchored" data-anchor-id="configuration">Configuration</h2>
<p>Outside of our grammar, we can configure the rendering of our plot.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div id="59d75873" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ggplot() <span class="op">+</span> geom_point(data<span class="op">=</span>nations, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  mapping<span class="op">=</span>aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'lifeExpectancy'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>) <span class="op">+</span>  ggsize(<span class="dv">400</span>, <span class="dv">400</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
   <div id="9UwemB"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"mapping":{
},
"data_meta":{
},
"ggsize":{
"width":400.0,
"height":400.0
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"point",
"data":{
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy"
},
"data_meta":{
"series_annotations":[{
"type":"str",
"column":"name"
},{
"type":"str",
"column":"region"
},{
"type":"float",
"column":"income"
},{
"type":"int",
"column":"population"
},{
"type":"float",
"column":"lifeExpectancy"
}]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("9UwemB");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div><div class="column" style="font-size: 75%; width: 38%;">
<p><code>ggsize()</code> lets us set the size of the output.</p>
<p><code>theme</code> lets us adjust many other aesthetic properties.</p>
</div>
</div>
</section>
</section>
<section id="how-do-we-make-good-choices-when-making-visualizations" class="level1">
<h1>How do we make good choices when making visualizations?</h1>
</section>
<section id="a-poetry-of-graphics" class="level1">
<h1>A <em>poetry</em> of graphics</h1>
<section id="exercise-aesthetic-mappings" class="level2">
<h2 class="anchored" data-anchor-id="exercise-aesthetic-mappings">Exercise: Aesthetic mappings</h2>
<p>Let’s start with how we choose aesthetic mappings</p>
<p>We’ll replicate a famous experiment from Cleveland and McGill!</p>
<p>Open this form: <a href="https://forms.gle/RfNNwfRcPtEBRGZh7">https://forms.gle/RfNNwfRcPtEBRGZh7</a></p>
</section>
</section>
<section id="what-did-we-find" class="level1">
<h1>What did we find?</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/tasks.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<section id="previous-studies" class="level2">
<h2 class="anchored" data-anchor-id="previous-studies">Previous studies</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/heer.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Some channels are <strong>far</strong> more effective at communicating values.</p>
</section>
<section id="mackinlays-ranking" class="level2">
<h2 class="anchored" data-anchor-id="mackinlays-ranking">MacKinlay’s Ranking</h2>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/ranking.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Most effective representation may depend on the <strong>type</strong> of data</p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/aesthetics.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="some-principles" class="level1">
<h1>Some principles</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/jock.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>From Jock MacKinlay</p>
<section id="a-first-principle-importance-ordering" class="level2">
<h2 class="anchored" data-anchor-id="a-first-principle-importance-ordering">A first principle: <strong>importance ordering</strong></h2>
<p>“<em>Encode more important information more effectively</em>”</p>
<ul>
<li>A visualization is more <strong>effective</strong> than another visualization if the information conveyed by one visualization is more readily perceived than the information in the other visualization.</li>
</ul>
</section>
<section id="another-principle-expressiveness" class="level2">
<h2 class="anchored" data-anchor-id="another-principle-expressiveness">Another principle: <strong>expressiveness</strong></h2>
<p>“<em>A set of facts is <strong>expressible</strong> in a</em> [visual] <em>language if it contains a sentence</em> [visualization] <em>that:</em>”</p>
<ul>
<li>“<em>Encodes <strong>all</strong> the facts in the set</em>”</li>
<li>“<em>Encodes <strong>only</strong> the facts in the set</em>”</li>
</ul>
<p><strong>What does this mean?</strong></p>
</section>
<section id="express-all-the-facts-overplotting" class="level2">
<h2 class="anchored" data-anchor-id="express-all-the-facts-overplotting">Express all the facts: <strong>overplotting</strong></h2>
<p>Overlapping points can make it impossible to tell the number of observations</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/overplotting.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><em>How many total cars are represented?</em></p>
</section>
<section id="encode-only-the-facts-consistency" class="level2">
<h2 class="anchored" data-anchor-id="encode-only-the-facts-consistency">Encode only the facts: <strong>consistency</strong></h2>
<p>The properties of the image (visual variables) should match the properties of the data</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/cars.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><em>Nations are not ordinal!</em></p>
</section>
<section id="encode-only-the-facts-ordering" class="level2">
<h2 class="anchored" data-anchor-id="encode-only-the-facts-ordering">Encode only the facts: <strong>ordering</strong></h2>
<p>Visual orderings convey meaning, even when there is none!</p>
<ul>
<li>“<em>Because we are almost never interested in seeing <strong>Alabama first</strong>, it is astonishing how often data displays use alphabetical order as the organizing principle of choice</em>” - Howard Wainer</li>
</ul>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/foods.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/perception/french-foods.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="violations-of-these-principles" class="level2">
<h2 class="anchored" data-anchor-id="violations-of-these-principles">Violations of these principles</h2>
<p>The following charts from Morton Thiokol documented O-ring damage on pre-challenger flights</p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/mt-plot-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/mt-plot-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
<p><em>What principle(s) are violated here?</em></p>
</section>
<section id="tuftes-fixes" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-fixes">Tufte’s fixes</h2>
<p>Temperature is more important than date!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/mt-plot-tufte.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="tuftes-fixes-1" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-fixes-1">Tufte’s fixes</h2>
<p>Ordering alone doesn’t effectively convey differences!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/mt-scatter.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="above-all-else-show-the-data" class="level1">
<h1><em>Above all else show the data</em></h1>
</section>
<section id="more-principles" class="level1">
<h1>More principles!</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/tufte-portrait.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>From Edward Tufte</p>
<section id="tuftes-philosophy-minimalism" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-philosophy-minimalism">Tufte’s philosophy: <strong>minimalism</strong></h2>
<p>Five principles</p>
<ul>
<li>Above all else show the data</li>
<li>Maximize the data-ink ratio</li>
<li>Erase non-data-ink</li>
<li>Erase redundant data-ink</li>
<li>Revise and edit</li>
</ul>
</section>
<section id="data-ink-ratio" class="level2">
<h2 class="anchored" data-anchor-id="data-ink-ratio">Data-ink ratio</h2>
<div class="columns">
<div class="column" style="font-size: 100%">
<p>Heuristic for visual complexity</p>
</div><div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/ratio.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="font-size: 60%">
<p>Low data-ink ratio (<em>William Playfair 1785</em>): <img src="pictures/data-to-ink/playfair-messy.png" class="quarto-figure quarto-figure-center" height="300"></p>
</div><div class="column" style="font-size: 60%">
<p>High data-ink ratio (<em>William Playfair 1786</em>): <img src="pictures/data-to-ink/playfair.png" class="quarto-figure quarto-figure-center" height="300"></p>
</div>
</div>
</section>
<section id="maximal-data-ink-ratio-eeg" class="level2">
<h2 class="anchored" data-anchor-id="maximal-data-ink-ratio-eeg">Maximal data-ink ratio: EEG</h2>
<p>Can’t erase anything without losing information</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/eeg.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="data-ink-ratio-1" class="level2">
<h2 class="anchored" data-anchor-id="data-ink-ratio-1">Data-ink ratio</h2>
<p>Can be used to guide visual design (<em>Revise and edit!</em>):</p>
<div class="columns">
<div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/bar-1.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
<p>A simple bar chart</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/bar-3.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
<p>and the axis rule</p>
</div><div class="column" style="font-size: 75%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/bar-2.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
<p>We can remove the outline</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/bar-4.png" class="quarto-figure quarto-figure-center figure-img" height="200"></p>
</figure>
</div>
<p>even re-encode the axis with whitespace!</p>
</div>
</div>
<div style="font-size: 75%">

</div>
</section>
<section id="data-ink-ratio-2" class="level2">
<h2 class="anchored" data-anchor-id="data-ink-ratio-2">Data-ink ratio</h2>
<div class="columns">
<div class="column" style="font-size: 100%">
<p>Can convey more information.</p>
<ul>
<li>Here the axes convey the extents of the data</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/extents.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/range-frame.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-ink-ratio-3" class="level2">
<h2 class="anchored" data-anchor-id="data-ink-ratio-3">Data-ink ratio</h2>
<p>Can be used to derive new forms</p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/tukey-boxplot.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
<p>John Tukey’s box plot</p>
</div><div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/tufte-boxplot.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
<p>Tufte’s simplification</p>
</div>
</div>
</section>
<section id="data-ink-ratio-4" class="level2">
<h2 class="anchored" data-anchor-id="data-ink-ratio-4">Data-ink ratio</h2>
<p>Sometimes Tufte went a little far… <img src="pictures/data-to-ink/boxplots.png" class="quarto-figure quarto-figure-center" height="500"></p>
<p><em>Is this really better?</em></p>
</section>
<section id="chart-junk" class="level2">
<h2 class="anchored" data-anchor-id="chart-junk">Chart junk</h2>
<p>Distracting patterns and unnecessary artistic embelishment</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/chartjunk/junky.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div style="font-size: 75%">
<p><em>A typical example</em></p>
</div>
</section>
<section id="distracting-patterns" class="level2">
<h2 class="anchored" data-anchor-id="distracting-patterns">Distracting patterns</h2>
<p>Patterns can introduce visual artifacts and distract from the data.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/chartjunk/patterns.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="unnecessary-artistic-embellishment" class="level2">
<h2 class="anchored" data-anchor-id="unnecessary-artistic-embellishment">Unnecessary artistic embellishment</h2>
<p>Which conveys data more effectively?</p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/mt-scatter.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/challenger/tufte.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="this-may-be-the-worst-graphic-ever-put-into-print" class="level2">
<h2 class="anchored" data-anchor-id="this-may-be-the-worst-graphic-ever-put-into-print">“This may be the worst graphic ever put into print”</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/chartjunk/worst.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="but-is-tufte-right" class="level1">
<h1>But is Tufte right?</h1>
<section id="artistic-embellishment" class="level2">
<h2 class="anchored" data-anchor-id="artistic-embellishment">Artistic embellishment</h2>
<p>Which plot is more clear? Which is more <em>memorable</em>?</p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/monstrous.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
<p><em>Nigel Holmes’ visual</em></p>
</div><div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/non-monstrous.png" class="quarto-figure quarto-figure-center figure-img" height="400"></p>
</figure>
</div>
<p><em>A simplified visual</em></p>
</div>
</div>
</section>
<section id="a-perceptual-study" class="level2">
<h2 class="anchored" data-anchor-id="a-perceptual-study">A perceptual study</h2>
<p><em>Bateman et. al.</em> put this to the test!</p>
<ul>
<li>Subjects compared several plots from Holmes to simplified charts.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/storytelling.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="the-results" class="level2">
<h2 class="anchored" data-anchor-id="the-results">The results</h2>
<div class="columns">
<div class="column" style="font-size: 100%">
<p>Subject better remembered the charts with “junk”!</p>
<ul>
<li><strong>Especially</strong> in the long term</li>
</ul>
</div><div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/recall.png" class="quarto-figure quarto-figure-center figure-img" height="600"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="the-results-1" class="level2">
<h2 class="anchored" data-anchor-id="the-results-1">The results</h2>
<p>They also preferred them</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/preferences.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="takeaway" class="level2">
<h2 class="anchored" data-anchor-id="takeaway">Takeaway</h2>
<p>The appropriate level of “junk” is the subject of ongoing research and debate</p>
<ul>
<li>Tufte’s principles can make plots more <strong>effective</strong></li>
<li>Embellishment can make plots more <strong>memorable</strong></li>
</ul>
</section>
</section>
<section id="well-cover-more-principles-in-future-lectures" class="level1">
<h1>We’ll cover more principles in future lectures!</h1>
</section>
<section id="epilogue-the-best-graphic-ever-put-into-print" class="level1">
<h1><strong>Epilogue:</strong> The best graphic ever put into print?</h1>
<section id="tuftes-answer-charles-minards-visualization-of-napoleons-march" class="level2">
<h2 class="anchored" data-anchor-id="tuftes-answer-charles-minards-visualization-of-napoleons-march"><strong>Tufte’s answer:</strong> Charles Minard’s visualization of Napoleon’s march</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/data-to-ink/march.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="file-formats-and-loading-data" class="level1">
<h1>File formats and loading data</h1>
<section id="csv-and-tsv-files" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-files">CSV (and TSV) files</h2>
<p>“Simplest” and most common data file format.</p>
<ul>
<li>Plain text file</li>
<li>Each line is a row</li>
<li>Each column is separated by a <em>delimiter</em>: “,” for CSV, <code>tab</code> for TSV.</li>
<li>First row (usually) specifies column labels</li>
</ul>
</section>
<section id="loading-csv-and-tsv-files" class="level2">
<h2 class="anchored" data-anchor-id="loading-csv-and-tsv-files">Loading CSV (and TSV) files</h2>
<p>Files can be loaded into Pandas with <code>pd.read_csv()</code></p>
</section>
<section id="csv-and-tsv-issues" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues">CSV (and TSV) issues</h2>
<p><strong>No explicit schema!</strong> We need to <em>guess</em> the type of each column</p>
<ul>
<li>Pandas usally does a good job, but could get it wrong!</li>
</ul>
</section>
<section id="csv-and-tsv-issues-1" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues-1">CSV (and TSV) issues</h2>
<p><strong>Ambiguity!</strong> <em>What if a value contains a comma?</em></p>
<ul>
<li>Usually handled by <em>quoting</em> text</li>
<li>Leads to its own issues</li>
</ul>
</section>
<section id="csv-and-tsv-issues-2" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues-2">CSV (and TSV) issues</h2>
<p><strong>Lack of standardization!</strong> Many different ways of handling different data types</p>
<ul>
<li>Leads to this:</li>
</ul>
</section>
<section id="python" class="level2">
<h2 class="anchored" data-anchor-id="python">Python</h2>
<p>We can load a DataFrame from Python structures a s well</p>
<ul>
<li><p>Column format</p></li>
<li><p>Records format</p></li>
</ul>
</section>
<section id="json-javascript-object-notation" class="level2">
<h2 class="anchored" data-anchor-id="json-javascript-object-notation">JSON (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation)</h2>
<p><strong>JSON</strong> is a plain text format that describes nested <code>list</code> and <code>dict</code> structures (<code>array</code> and <code>object</code> in JavaScript)</p>
<ul>
<li>Pandas can read and write JSON using the columns or records format</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>