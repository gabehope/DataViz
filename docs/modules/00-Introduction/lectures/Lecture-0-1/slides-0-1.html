<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Gabe Hope">

<title>Data Analytics and Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Data Analytics and Visualization</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../calendar/calendar.html"> 
<span class="menu-text">Calendar</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../../../syllabus/policies.html">
 <span class="dropdown-text">Policies</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../syllabus/rubric.html">
 <span class="dropdown-text">Grading</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../../../../resources/references.html">
 <span class="dropdown-text">Reference materials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../resources/software.html">
 <span class="dropdown-text">Software &amp; tools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../resources/datasets.html">
 <span class="dropdown-text">Datasets</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-links" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Links</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-links">    
        <li>
    <a class="dropdown-item" href="https://harveymuddcollege.instructure.com/courses/1728">
 <span class="dropdown-text">Canvas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.gradescope.com/courses/839547">
 <span class="dropdown-text">Gradescope</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#warmup-exercise" id="toc-warmup-exercise" class="nav-link active" data-scroll-target="#warmup-exercise">Warmup exercise</a></li>
  <li><a href="#information-shown" id="toc-information-shown" class="nav-link" data-scroll-target="#information-shown">Information shown</a></li>
  <li><a href="#data-source-gapminder" id="toc-data-source-gapminder" class="nav-link" data-scroll-target="#data-source-gapminder">Data source: Gapminder</a></li>
  <li><a href="#what-is-data" id="toc-what-is-data" class="nav-link" data-scroll-target="#what-is-data">What is data?</a>
  <ul class="collapse">
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">Dataset:</a></li>
  <li><a href="#variable" id="toc-variable" class="nav-link" data-scroll-target="#variable">Variable:</a></li>
  <li><a href="#observation" id="toc-observation" class="nav-link" data-scroll-target="#observation">Observation:</a></li>
  <li><a href="#observation-1" id="toc-observation-1" class="nav-link" data-scroll-target="#observation-1">Observation:</a></li>
  <li><a href="#one-way-to-think-of-this" id="toc-one-way-to-think-of-this" class="nav-link" data-scroll-target="#one-way-to-think-of-this">One way to think of this:</a></li>
  <li><a href="#another-way-to-think-of-this" id="toc-another-way-to-think-of-this" class="nav-link" data-scroll-target="#another-way-to-think-of-this">Another way to think of this:</a></li>
  <li><a href="#yet-another-way-to-think-of-this" id="toc-yet-another-way-to-think-of-this" class="nav-link" data-scroll-target="#yet-another-way-to-think-of-this">Yet another way to think of this:</a></li>
  </ul></li>
  <li><a href="#lets-get-to-code" id="toc-lets-get-to-code" class="nav-link" data-scroll-target="#lets-get-to-code">Let’s get to code!</a>
  <ul class="collapse">
  <li><a href="#the-pandas-library" id="toc-the-pandas-library" class="nav-link" data-scroll-target="#the-pandas-library">The <strong>Pandas</strong> library</a></li>
  <li><a href="#the-pandas-library-1" id="toc-the-pandas-library-1" class="nav-link" data-scroll-target="#the-pandas-library-1">The <strong>Pandas</strong> library</a></li>
  <li><a href="#series" id="toc-series" class="nav-link" data-scroll-target="#series">Series</a></li>
  </ul></li>
  <li><a href="#tidy-data-a-framework-for-using-data-frames" id="toc-tidy-data-a-framework-for-using-data-frames" class="nav-link" data-scroll-target="#tidy-data-a-framework-for-using-data-frames"><strong>Tidy Data:</strong> A framework for using data frames</a>
  <ul class="collapse">
  <li><a href="#theres-more-than-one-way-to-represent-the-same-data" id="toc-theres-more-than-one-way-to-represent-the-same-data" class="nav-link" data-scroll-target="#theres-more-than-one-way-to-represent-the-same-data">There’s more than one way to represent the same data</a></li>
  <li><a href="#wickhams-tidy-data-principles" id="toc-wickhams-tidy-data-principles" class="nav-link" data-scroll-target="#wickhams-tidy-data-principles">Wickham’s <strong>tidy data</strong> principles</a></li>
  <li><a href="#why-tidy-data" id="toc-why-tidy-data" class="nav-link" data-scroll-target="#why-tidy-data">Why tidy data?</a></li>
  <li><a href="#common-ways-data-might-be-messy" id="toc-common-ways-data-might-be-messy" class="nav-link" data-scroll-target="#common-ways-data-might-be-messy">Common ways data might be <em>messy</em></a></li>
  <li><a href="#tidy-data-for-machine-learning" id="toc-tidy-data-for-machine-learning" class="nav-link" data-scroll-target="#tidy-data-for-machine-learning">Tidy data for machine learning</a></li>
  <li><a href="#always-the-right-choice" id="toc-always-the-right-choice" class="nav-link" data-scroll-target="#always-the-right-choice">Always the right choice?</a></li>
  </ul></li>
  <li><a href="#types-and-schema" id="toc-types-and-schema" class="nav-link" data-scroll-target="#types-and-schema">Types and schema</a>
  <ul class="collapse">
  <li><a href="#variable-types" id="toc-variable-types" class="nav-link" data-scroll-target="#variable-types">Variable types</a></li>
  <li><a href="#variable-types-1" id="toc-variable-types-1" class="nav-link" data-scroll-target="#variable-types-1">Variable types</a></li>
  <li><a href="#variable-types-2" id="toc-variable-types-2" class="nav-link" data-scroll-target="#variable-types-2">Variable types</a></li>
  <li><a href="#variable-types-3" id="toc-variable-types-3" class="nav-link" data-scroll-target="#variable-types-3">Variable types</a></li>
  <li><a href="#operations-by-type" id="toc-operations-by-type" class="nav-link" data-scroll-target="#operations-by-type">Operations by type</a></li>
  <li><a href="#schema" id="toc-schema" class="nav-link" data-scroll-target="#schema">Schema</a></li>
  <li><a href="#series-1" id="toc-series-1" class="nav-link" data-scroll-target="#series-1">Series</a></li>
  <li><a href="#nominal-types" id="toc-nominal-types" class="nav-link" data-scroll-target="#nominal-types">Nominal types</a></li>
  <li><a href="#nominal-types-1" id="toc-nominal-types-1" class="nav-link" data-scroll-target="#nominal-types-1">Nominal types</a></li>
  <li><a href="#index" id="toc-index" class="nav-link" data-scroll-target="#index">Index</a></li>
  <li><a href="#index-1" id="toc-index-1" class="nav-link" data-scroll-target="#index-1">Index</a></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data">Missing data</a></li>
  <li><a href="#missing-data-1" id="toc-missing-data-1" class="nav-link" data-scroll-target="#missing-data-1">Missing data</a></li>
  </ul></li>
  <li><a href="#visualization" id="toc-visualization" class="nav-link" data-scroll-target="#visualization">Visualization</a>
  <ul class="collapse">
  <li><a href="#visual-language" id="toc-visual-language" class="nav-link" data-scroll-target="#visual-language">Visual language</a></li>
  <li><a href="#conceptual-strategy" id="toc-conceptual-strategy" class="nav-link" data-scroll-target="#conceptual-strategy">Conceptual strategy</a></li>
  <li><a href="#visual-encoding-dimensions" id="toc-visual-encoding-dimensions" class="nav-link" data-scroll-target="#visual-encoding-dimensions">Visual encoding dimensions</a></li>
  <li><a href="#example---william-playfair-1786" id="toc-example---william-playfair-1786" class="nav-link" data-scroll-target="#example---william-playfair-1786">Example - William Playfair, 1786</a></li>
  </ul></li>
  <li><a href="#visualizations-in-code" id="toc-visualizations-in-code" class="nav-link" data-scroll-target="#visualizations-in-code">Visualizations in code</a>
  <ul class="collapse">
  <li><a href="#ggplot" id="toc-ggplot" class="nav-link" data-scroll-target="#ggplot">Ggplot</a></li>
  </ul></li>
  <li><a href="#example-cars" id="toc-example-cars" class="nav-link" data-scroll-target="#example-cars">Example: Cars</a></li>
  <li><a href="#file-formats-and-loading-data" id="toc-file-formats-and-loading-data" class="nav-link" data-scroll-target="#file-formats-and-loading-data">File formats and loading data</a>
  <ul class="collapse">
  <li><a href="#csv-and-tsv-files" id="toc-csv-and-tsv-files" class="nav-link" data-scroll-target="#csv-and-tsv-files">CSV (and TSV) files</a></li>
  <li><a href="#loading-csv-and-tsv-files" id="toc-loading-csv-and-tsv-files" class="nav-link" data-scroll-target="#loading-csv-and-tsv-files">Loading CSV (and TSV) files</a></li>
  <li><a href="#csv-and-tsv-issues" id="toc-csv-and-tsv-issues" class="nav-link" data-scroll-target="#csv-and-tsv-issues">CSV (and TSV) issues</a></li>
  <li><a href="#csv-and-tsv-issues-1" id="toc-csv-and-tsv-issues-1" class="nav-link" data-scroll-target="#csv-and-tsv-issues-1">CSV (and TSV) issues</a></li>
  <li><a href="#csv-and-tsv-issues-2" id="toc-csv-and-tsv-issues-2" class="nav-link" data-scroll-target="#csv-and-tsv-issues-2">CSV (and TSV) issues</a></li>
  <li><a href="#python" id="toc-python" class="nav-link" data-scroll-target="#python">Python</a></li>
  <li><a href="#json-javascript-object-notation" id="toc-json-javascript-object-notation" class="nav-link" data-scroll-target="#json-javascript-object-notation">JSON (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation)</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="slides-0-1.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Analytics and Visualization</h1>
<p class="subtitle lead">0-1: Introduction to Data Representations</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prof.&nbsp;Gabe Hope </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="warmup-exercise" class="level2">
<h2 class="anchored" data-anchor-id="warmup-exercise">Warmup exercise</h2>
<p><em>What information is shown in this plot?</em></p>
<div id="0844be00" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">

            <div id="sUuRhD"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.3.3/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("sUuRhD").appendChild(div);
                    };
                    var e = document.getElementById("sUuRhD");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
   <div id="VlcJfc"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
},
"ggsize":{
"width":800.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("VlcJfc");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</section>
<section id="information-shown" class="level2">
<h2 class="anchored" data-anchor-id="information-shown">Information shown</h2>
<ul>
<li>Countries! (names)</li>
<li>Populations</li>
<li>Incomes</li>
<li>Life expectencies</li>
<li>Regions</li>
</ul>
</section>
<section id="data-source-gapminder" class="level2">
<h2 class="anchored" data-anchor-id="data-source-gapminder">Data source: Gapminder</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/gapminder_logo.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/gapminder.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p><strong>Gapminder</strong> is a Swedish non-profit organization focused on global development</p>
<ul>
<li>Founded by Hans Rosling <em>“Gapminder identifies systematic misconceptions about important global trends and proportions and uses reliable data to develop easy to understand teaching materials to rid people of their misconceptions.”</em></li>
</ul>
</div>
</div>
</section>
<section id="what-is-data" class="level1">
<h1>What is data?</h1>
<p>Some <em>rough</em> definitions</p>
<section id="dataset" class="level2">
<h2 class="anchored" data-anchor-id="dataset">Dataset:</h2>
<p>A collection of <strong>values</strong> that capture various aspects of the world (Typically for a specific <strong>domain</strong>)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/world.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="variable" class="level2">
<h2 class="anchored" data-anchor-id="variable">Variable:</h2>
<p>A <strong>variable</strong> defines some <em>measurement</em> we can make about the world</p>
<section id="nations-dataset" class="level4">
<h4 class="anchored" data-anchor-id="nations-dataset">Nations dataset</h4>
<ul>
<li>A country’s <em>name</em>, <em>population</em>, <em>income</em>, <em>life expectency</em>, <em>etc.</em></li>
</ul>
</section>
<section id="colleges-dataset" class="level4">
<h4 class="anchored" data-anchor-id="colleges-dataset">Colleges dataset</h4>
<ul>
<li>A college’s <em>name</em>, <em>tuition</em>, <em>enrollment</em>, <em>type (public vs.&nbsp;private)</em>, <em>etc.</em></li>
</ul>
</section>
</section>
<section id="observation" class="level2">
<h2 class="anchored" data-anchor-id="observation">Observation:</h2>
<p>An <strong>observation</strong> is a collection of <em>values</em> corresponding to a single <em>entity</em></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/us.png" class="quarto-figure quarto-figure-center figure-img" height="250"></p>
</figure>
</div>
<ul>
<li>Name: <em>United States</em></li>
<li>Population: <em>300M</em></li>
<li>Life exp.: <em>76.3</em></li>
<li>Income: <em>47,000</em></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/chile.png" class="quarto-figure quarto-figure-center figure-img" height="250"></p>
</figure>
</div>
<ul>
<li>Name: <em>Chile</em></li>
<li>Population: <em>20M</em></li>
<li>Life exp.: <em>78.9</em></li>
<li>Income: <em>17,000</em></li>
</ul>
</div>
</div>
</section>
<section id="observation-1" class="level2">
<h2 class="anchored" data-anchor-id="observation-1">Observation:</h2>
<p>An <strong>observation</strong> is a collection of <em>values</em> corresponding to a single <em>entity</em></p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Name: <em>Harvey Mudd</em></li>
<li>Tuition: <em>$68,262</em></li>
<li>Enrollment: <em>915</em></li>
<li>Type: <em>Private</em></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Name: <em>UC Irvine</em></li>
<li>Tuition: <em>$17,105</em></li>
<li>Enrollment: <em>29,503</em></li>
<li>Type: <em>Public</em></li>
</ul>
</div>
</div>
</section>
<section id="one-way-to-think-of-this" class="level2">
<h2 class="anchored" data-anchor-id="one-way-to-think-of-this">One way to think of this:</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/colleges.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div style="font-size: 50%">
<p>Credit: R. Jordan Crouser, Smith College</p>
</div>
</section>
<section id="another-way-to-think-of-this" class="level2">
<h2 class="anchored" data-anchor-id="another-way-to-think-of-this">Another way to think of this:</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/code.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div style="font-size: 50%">
<p>Credit: R. Jordan Crouser, Smith College</p>
</div>
</section>
<section id="yet-another-way-to-think-of-this" class="level2">
<h2 class="anchored" data-anchor-id="yet-another-way-to-think-of-this">Yet another way to think of this:</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/placards.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div style="font-size: 50%">
<p>Credit: R. Jordan Crouser, Smith College</p>
</div>
</section>
</section>
<section id="lets-get-to-code" class="level1">
<h1>Let’s get to code!</h1>
<section id="the-pandas-library" class="level2">
<h2 class="anchored" data-anchor-id="the-pandas-library">The <strong>Pandas</strong> library</h2>
<p><strong>Pandas</strong> is the core library we’ll use for representing datasets in code</p>
<p>The central data structure in Pandas is the <code>DataFrame</code></p>
<div class="columns">
<div class="column" style="font-size: 70%">
<div id="d62f429d" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A DataFrame object</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>nations <span class="op">=</span> pd.read_csv(<span class="st">'data/nations.csv'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>nations.head() <span class="co"># Shows first 5 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>A 2-dimensional “array” of values</li>
<li>We can view it as a <em>table</em> with <em>rows</em> and <em>columns</em></li>
</ul>
</div>
</div>
</section>
<section id="the-pandas-library-1" class="level2">
<h2 class="anchored" data-anchor-id="the-pandas-library-1">The <strong>Pandas</strong> library</h2>
<p>Each column has a <em>label</em>, as shown.</p>
<ul>
<li>Should specify what the values in a column mean</li>
</ul>
<div class="columns">
<div class="column" style="font-size: 70%">
<div id="6f2eb5d5" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A DataFrame object</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>nations <span class="op">=</span> pd.read_csv(<span class="st">'data/nations.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>nations.head() <span class="co"># Shows first 5 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="ea66ef67" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nations.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>Index(['name', 'region', 'income', 'population', 'lifeExpectancy'], dtype='object')</code></pre>
</div>
</div>
<div style="font-size: 70%">
<p>Rows can (<em>sort of</em>) have labels too, we’ll get back to this!</p>
</div>
</div>
</div>
</section>
<section id="series" class="level2">
<h2 class="anchored" data-anchor-id="series">Series</h2>
<p>Each column in Pandas is a 1-dimensional array-like object called a <strong>series</strong></p>
<div class="columns">
<div class="column" style="width:50%;">
<div id="7d1db52b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'population'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>0      12707546
1       8294941
2       1638393
3      14761339
4       8691005
         ...   
175     1130120
176        1401
177      118993
178    86116559
179      215053
Name: population, Length: 180, dtype: int64</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="d2eb101b" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'name'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>0            Angola
1             Benin
2          Botswana
3      Burkina Faso
4           Burundi
           ...     
175     Timor-Leste
176         Tokelau
177           Tonga
178         Vietnam
179         Vanuatu
Name: name, Length: 180, dtype: object</code></pre>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="tidy-data-a-framework-for-using-data-frames" class="level1">
<h1><strong>Tidy Data:</strong> A framework for using data frames</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/hadley.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="font-size: 70%">
<blockquote class="blockquote">
<p><em>“Happy families are all alike; every unhappy family is unhappy in its own way.”</em> –– Leo Tolstoy</p>
</blockquote>
<blockquote class="blockquote">
<p><em>“Tidy datasets are all alike, but every messy dataset is messy in its own way.”</em> –– **Hadley Wickham</p>
</blockquote>
</div>
</div>
<section id="theres-more-than-one-way-to-represent-the-same-data" class="level2">
<h2 class="anchored" data-anchor-id="theres-more-than-one-way-to-represent-the-same-data">There’s more than one way to represent the same data</h2>
<p>What makes sense to you?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">A</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">B</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">C</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">D</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div id="d328f402" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display" data-execution_count="8">
<style type="text/css">
</style>

<table id="T_ebadb" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_ebadb_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_ebadb_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_ebadb_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">cases</th>
<th id="T_ebadb_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_ebadb_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_ebadb_row0_col1" class="data row0 col1">1999</td>
<td id="T_ebadb_row0_col2" class="data row0 col2">745</td>
<td id="T_ebadb_row0_col3" class="data row0 col3">19987071</td>
</tr>
<tr class="even">
<td id="T_ebadb_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_ebadb_row1_col1" class="data row1 col1">2000</td>
<td id="T_ebadb_row1_col2" class="data row1 col2">2666</td>
<td id="T_ebadb_row1_col3" class="data row1 col3">20595360</td>
</tr>
<tr class="odd">
<td id="T_ebadb_row2_col0" class="data row2 col0">Brazil</td>
<td id="T_ebadb_row2_col1" class="data row2 col1">1999</td>
<td id="T_ebadb_row2_col2" class="data row2 col2">37737</td>
<td id="T_ebadb_row2_col3" class="data row2 col3">172006362</td>
</tr>
<tr class="even">
<td id="T_ebadb_row3_col0" class="data row3 col0">Brazil</td>
<td id="T_ebadb_row3_col1" class="data row3 col1">2000</td>
<td id="T_ebadb_row3_col2" class="data row3 col2">80488</td>
<td id="T_ebadb_row3_col3" class="data row3 col3">174504898</td>
</tr>
<tr class="odd">
<td id="T_ebadb_row4_col0" class="data row4 col0">China</td>
<td id="T_ebadb_row4_col1" class="data row4 col1">1999</td>
<td id="T_ebadb_row4_col2" class="data row4 col2">212258</td>
<td id="T_ebadb_row4_col3" class="data row4 col3">1272915272</td>
</tr>
<tr class="even">
<td id="T_ebadb_row5_col0" class="data row5 col0">China</td>
<td id="T_ebadb_row5_col1" class="data row5 col1">2000</td>
<td id="T_ebadb_row5_col2" class="data row5 col2">213766</td>
<td id="T_ebadb_row5_col3" class="data row5 col3">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div id="e3826592" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display" data-execution_count="9">
<style type="text/css">
</style>

<table id="T_f2ed7" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_f2ed7_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_f2ed7_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_f2ed7_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">type</th>
<th id="T_f2ed7_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_f2ed7_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_f2ed7_row0_col1" class="data row0 col1">1999</td>
<td id="T_f2ed7_row0_col2" class="data row0 col2">cases</td>
<td id="T_f2ed7_row0_col3" class="data row0 col3">745</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_f2ed7_row1_col1" class="data row1 col1">1999</td>
<td id="T_f2ed7_row1_col2" class="data row1 col2">population</td>
<td id="T_f2ed7_row1_col3" class="data row1 col3">19987071</td>
</tr>
<tr class="odd">
<td id="T_f2ed7_row2_col0" class="data row2 col0">Afghanistan</td>
<td id="T_f2ed7_row2_col1" class="data row2 col1">2000</td>
<td id="T_f2ed7_row2_col2" class="data row2 col2">cases</td>
<td id="T_f2ed7_row2_col3" class="data row2 col3">2666</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row3_col0" class="data row3 col0">Afghanistan</td>
<td id="T_f2ed7_row3_col1" class="data row3 col1">2000</td>
<td id="T_f2ed7_row3_col2" class="data row3 col2">population</td>
<td id="T_f2ed7_row3_col3" class="data row3 col3">20595360</td>
</tr>
<tr class="odd">
<td id="T_f2ed7_row4_col0" class="data row4 col0">Brazil</td>
<td id="T_f2ed7_row4_col1" class="data row4 col1">1999</td>
<td id="T_f2ed7_row4_col2" class="data row4 col2">cases</td>
<td id="T_f2ed7_row4_col3" class="data row4 col3">37737</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row5_col0" class="data row5 col0">Brazil</td>
<td id="T_f2ed7_row5_col1" class="data row5 col1">1999</td>
<td id="T_f2ed7_row5_col2" class="data row5 col2">population</td>
<td id="T_f2ed7_row5_col3" class="data row5 col3">172006362</td>
</tr>
<tr class="odd">
<td id="T_f2ed7_row6_col0" class="data row6 col0">Brazil</td>
<td id="T_f2ed7_row6_col1" class="data row6 col1">2000</td>
<td id="T_f2ed7_row6_col2" class="data row6 col2">cases</td>
<td id="T_f2ed7_row6_col3" class="data row6 col3">80488</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row7_col0" class="data row7 col0">Brazil</td>
<td id="T_f2ed7_row7_col1" class="data row7 col1">2000</td>
<td id="T_f2ed7_row7_col2" class="data row7 col2">population</td>
<td id="T_f2ed7_row7_col3" class="data row7 col3">174504898</td>
</tr>
<tr class="odd">
<td id="T_f2ed7_row8_col0" class="data row8 col0">China</td>
<td id="T_f2ed7_row8_col1" class="data row8 col1">1999</td>
<td id="T_f2ed7_row8_col2" class="data row8 col2">cases</td>
<td id="T_f2ed7_row8_col3" class="data row8 col3">212258</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row9_col0" class="data row9 col0">China</td>
<td id="T_f2ed7_row9_col1" class="data row9 col1">1999</td>
<td id="T_f2ed7_row9_col2" class="data row9 col2">population</td>
<td id="T_f2ed7_row9_col3" class="data row9 col3">1272915272</td>
</tr>
<tr class="odd">
<td id="T_f2ed7_row10_col0" class="data row10 col0">China</td>
<td id="T_f2ed7_row10_col1" class="data row10 col1">2000</td>
<td id="T_f2ed7_row10_col2" class="data row10 col2">cases</td>
<td id="T_f2ed7_row10_col3" class="data row10 col3">213766</td>
</tr>
<tr class="even">
<td id="T_f2ed7_row11_col0" class="data row11 col0">China</td>
<td id="T_f2ed7_row11_col1" class="data row11 col1">2000</td>
<td id="T_f2ed7_row11_col2" class="data row11 col2">population</td>
<td id="T_f2ed7_row11_col3" class="data row11 col3">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div id="4e4e3699" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="10">
<style type="text/css">
</style>

<table id="T_17f3a" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_17f3a_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_17f3a_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_17f3a_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_17f3a_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_17f3a_row0_col1" class="data row0 col1">1999</td>
<td id="T_17f3a_row0_col2" class="data row0 col2">745/19987071</td>
</tr>
<tr class="even">
<td id="T_17f3a_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_17f3a_row1_col1" class="data row1 col1">2000</td>
<td id="T_17f3a_row1_col2" class="data row1 col2">2666/20595360</td>
</tr>
<tr class="odd">
<td id="T_17f3a_row2_col0" class="data row2 col0">Brazil</td>
<td id="T_17f3a_row2_col1" class="data row2 col1">1999</td>
<td id="T_17f3a_row2_col2" class="data row2 col2">37737/172006362</td>
</tr>
<tr class="even">
<td id="T_17f3a_row3_col0" class="data row3 col0">Brazil</td>
<td id="T_17f3a_row3_col1" class="data row3 col1">2000</td>
<td id="T_17f3a_row3_col2" class="data row3 col2">80488/174504898</td>
</tr>
<tr class="odd">
<td id="T_17f3a_row4_col0" class="data row4 col0">China</td>
<td id="T_17f3a_row4_col1" class="data row4 col1">1999</td>
<td id="T_17f3a_row4_col2" class="data row4 col2">212258/1272915272</td>
</tr>
<tr class="even">
<td id="T_17f3a_row5_col0" class="data row5 col0">China</td>
<td id="T_17f3a_row5_col1" class="data row5 col1">2000</td>
<td id="T_17f3a_row5_col2" class="data row5 col2">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="columns">
<div class="column" style="width:50%;">
<div id="406eca2d" class="cell" data-execution_count="11">
<div class="cell-output cell-output-display" data-execution_count="11">
<style type="text/css">
</style>

<table id="T_18873" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_18873_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_18873_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">1999</th>
<th id="T_18873_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_18873_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_18873_row0_col1" class="data row0 col1">745</td>
<td id="T_18873_row0_col2" class="data row0 col2">2666</td>
</tr>
<tr class="even">
<td id="T_18873_row1_col0" class="data row1 col0">Brazil</td>
<td id="T_18873_row1_col1" class="data row1 col1">37737</td>
<td id="T_18873_row1_col2" class="data row1 col2">80488</td>
</tr>
<tr class="odd">
<td id="T_18873_row2_col0" class="data row2 col0">China</td>
<td id="T_18873_row2_col1" class="data row2 col1">212258</td>
<td id="T_18873_row2_col2" class="data row2 col2">213766</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="321a5975" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="12">
<style type="text/css">
</style>

<table id="T_d5f63" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_d5f63_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_d5f63_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">1999</th>
<th id="T_d5f63_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_d5f63_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_d5f63_row0_col1" class="data row0 col1">19987071</td>
<td id="T_d5f63_row0_col2" class="data row0 col2">20595360</td>
</tr>
<tr class="even">
<td id="T_d5f63_row1_col0" class="data row1 col0">Brazil</td>
<td id="T_d5f63_row1_col1" class="data row1 col1">172006362</td>
<td id="T_d5f63_row1_col2" class="data row1 col2">174504898</td>
</tr>
<tr class="odd">
<td id="T_d5f63_row2_col0" class="data row2 col0">China</td>
<td id="T_d5f63_row2_col1" class="data row2 col1">1272915272</td>
<td id="T_d5f63_row2_col2" class="data row2 col2">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="wickhams-tidy-data-principles" class="level2">
<h2 class="anchored" data-anchor-id="wickhams-tidy-data-principles">Wickham’s <strong>tidy data</strong> principles</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/tidy.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<ul>
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table (DataFrame)</li>
<li>Each value has its own cell.</li>
</ul>
</section>
<section id="why-tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="why-tidy-data">Why tidy data?</h2>
<p><strong>Consistency</strong></p>
<ul>
<li>Different practitioners tools have a consistent <em>format</em> for data</li>
<li>Useful for visualization in particular</li>
</ul>
<p><strong>Implementation</strong></p>
<ul>
<li>Easier and more efficient to implement</li>
</ul>
</section>
<section id="common-ways-data-might-be-messy" class="level2">
<h2 class="anchored" data-anchor-id="common-ways-data-might-be-messy">Common ways data might be <em>messy</em></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Tidy</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Too long</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Too compact</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Too wide</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Not separated</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Tidy data</li>
</ul>
<div id="29c1b690" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="13">
<style type="text/css">
</style>

<table id="T_83d8b" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_83d8b_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_83d8b_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_83d8b_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">cases</th>
<th id="T_83d8b_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_83d8b_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_83d8b_row0_col1" class="data row0 col1">1999</td>
<td id="T_83d8b_row0_col2" class="data row0 col2">745</td>
<td id="T_83d8b_row0_col3" class="data row0 col3">19987071</td>
</tr>
<tr class="even">
<td id="T_83d8b_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_83d8b_row1_col1" class="data row1 col1">2000</td>
<td id="T_83d8b_row1_col2" class="data row1 col2">2666</td>
<td id="T_83d8b_row1_col3" class="data row1 col3">20595360</td>
</tr>
<tr class="odd">
<td id="T_83d8b_row2_col0" class="data row2 col0">Brazil</td>
<td id="T_83d8b_row2_col1" class="data row2 col1">1999</td>
<td id="T_83d8b_row2_col2" class="data row2 col2">37737</td>
<td id="T_83d8b_row2_col3" class="data row2 col3">172006362</td>
</tr>
<tr class="even">
<td id="T_83d8b_row3_col0" class="data row3 col0">Brazil</td>
<td id="T_83d8b_row3_col1" class="data row3 col1">2000</td>
<td id="T_83d8b_row3_col2" class="data row3 col2">80488</td>
<td id="T_83d8b_row3_col3" class="data row3 col3">174504898</td>
</tr>
<tr class="odd">
<td id="T_83d8b_row4_col0" class="data row4 col0">China</td>
<td id="T_83d8b_row4_col1" class="data row4 col1">1999</td>
<td id="T_83d8b_row4_col2" class="data row4 col2">212258</td>
<td id="T_83d8b_row4_col3" class="data row4 col3">1272915272</td>
</tr>
<tr class="even">
<td id="T_83d8b_row5_col0" class="data row5 col0">China</td>
<td id="T_83d8b_row5_col1" class="data row5 col1">2000</td>
<td id="T_83d8b_row5_col2" class="data row5 col2">213766</td>
<td id="T_83d8b_row5_col3" class="data row5 col3">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Multiple variables are stored in one column</li>
</ul>
<div id="8a943165" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="14">
<style type="text/css">
</style>

<table id="T_524ee" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_524ee_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_524ee_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_524ee_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">type</th>
<th id="T_524ee_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_524ee_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_524ee_row0_col1" class="data row0 col1">1999</td>
<td id="T_524ee_row0_col2" class="data row0 col2">cases</td>
<td id="T_524ee_row0_col3" class="data row0 col3">745</td>
</tr>
<tr class="even">
<td id="T_524ee_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_524ee_row1_col1" class="data row1 col1">1999</td>
<td id="T_524ee_row1_col2" class="data row1 col2">population</td>
<td id="T_524ee_row1_col3" class="data row1 col3">19987071</td>
</tr>
<tr class="odd">
<td id="T_524ee_row2_col0" class="data row2 col0">Afghanistan</td>
<td id="T_524ee_row2_col1" class="data row2 col1">2000</td>
<td id="T_524ee_row2_col2" class="data row2 col2">cases</td>
<td id="T_524ee_row2_col3" class="data row2 col3">2666</td>
</tr>
<tr class="even">
<td id="T_524ee_row3_col0" class="data row3 col0">Afghanistan</td>
<td id="T_524ee_row3_col1" class="data row3 col1">2000</td>
<td id="T_524ee_row3_col2" class="data row3 col2">population</td>
<td id="T_524ee_row3_col3" class="data row3 col3">20595360</td>
</tr>
<tr class="odd">
<td id="T_524ee_row4_col0" class="data row4 col0">Brazil</td>
<td id="T_524ee_row4_col1" class="data row4 col1">1999</td>
<td id="T_524ee_row4_col2" class="data row4 col2">cases</td>
<td id="T_524ee_row4_col3" class="data row4 col3">37737</td>
</tr>
<tr class="even">
<td id="T_524ee_row5_col0" class="data row5 col0">Brazil</td>
<td id="T_524ee_row5_col1" class="data row5 col1">1999</td>
<td id="T_524ee_row5_col2" class="data row5 col2">population</td>
<td id="T_524ee_row5_col3" class="data row5 col3">172006362</td>
</tr>
<tr class="odd">
<td id="T_524ee_row6_col0" class="data row6 col0">Brazil</td>
<td id="T_524ee_row6_col1" class="data row6 col1">2000</td>
<td id="T_524ee_row6_col2" class="data row6 col2">cases</td>
<td id="T_524ee_row6_col3" class="data row6 col3">80488</td>
</tr>
<tr class="even">
<td id="T_524ee_row7_col0" class="data row7 col0">Brazil</td>
<td id="T_524ee_row7_col1" class="data row7 col1">2000</td>
<td id="T_524ee_row7_col2" class="data row7 col2">population</td>
<td id="T_524ee_row7_col3" class="data row7 col3">174504898</td>
</tr>
<tr class="odd">
<td id="T_524ee_row8_col0" class="data row8 col0">China</td>
<td id="T_524ee_row8_col1" class="data row8 col1">1999</td>
<td id="T_524ee_row8_col2" class="data row8 col2">cases</td>
<td id="T_524ee_row8_col3" class="data row8 col3">212258</td>
</tr>
<tr class="even">
<td id="T_524ee_row9_col0" class="data row9 col0">China</td>
<td id="T_524ee_row9_col1" class="data row9 col1">1999</td>
<td id="T_524ee_row9_col2" class="data row9 col2">population</td>
<td id="T_524ee_row9_col3" class="data row9 col3">1272915272</td>
</tr>
<tr class="odd">
<td id="T_524ee_row10_col0" class="data row10 col0">China</td>
<td id="T_524ee_row10_col1" class="data row10 col1">2000</td>
<td id="T_524ee_row10_col2" class="data row10 col2">cases</td>
<td id="T_524ee_row10_col3" class="data row10 col3">213766</td>
</tr>
<tr class="even">
<td id="T_524ee_row11_col0" class="data row11 col0">China</td>
<td id="T_524ee_row11_col1" class="data row11 col1">2000</td>
<td id="T_524ee_row11_col2" class="data row11 col2">population</td>
<td id="T_524ee_row11_col3" class="data row11 col3">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<ul>
<li>Multiple values are stored in one cell</li>
</ul>
<div id="02d6256a" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display" data-execution_count="15">
<style type="text/css">
</style>

<table id="T_70580" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_70580_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_70580_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">year</th>
<th id="T_70580_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_70580_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_70580_row0_col1" class="data row0 col1">1999</td>
<td id="T_70580_row0_col2" class="data row0 col2">745/19987071</td>
</tr>
<tr class="even">
<td id="T_70580_row1_col0" class="data row1 col0">Afghanistan</td>
<td id="T_70580_row1_col1" class="data row1 col1">2000</td>
<td id="T_70580_row1_col2" class="data row1 col2">2666/20595360</td>
</tr>
<tr class="odd">
<td id="T_70580_row2_col0" class="data row2 col0">Brazil</td>
<td id="T_70580_row2_col1" class="data row2 col1">1999</td>
<td id="T_70580_row2_col2" class="data row2 col2">37737/172006362</td>
</tr>
<tr class="even">
<td id="T_70580_row3_col0" class="data row3 col0">Brazil</td>
<td id="T_70580_row3_col1" class="data row3 col1">2000</td>
<td id="T_70580_row3_col2" class="data row3 col2">80488/174504898</td>
</tr>
<tr class="odd">
<td id="T_70580_row4_col0" class="data row4 col0">China</td>
<td id="T_70580_row4_col1" class="data row4 col1">1999</td>
<td id="T_70580_row4_col2" class="data row4 col2">212258/1272915272</td>
</tr>
<tr class="even">
<td id="T_70580_row5_col0" class="data row5 col0">China</td>
<td id="T_70580_row5_col1" class="data row5 col1">2000</td>
<td id="T_70580_row5_col2" class="data row5 col2">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<ul>
<li>Variables are stored in both rows and columns. (<em>Wide form data</em>)</li>
<li>A single observational unit is stored in multiple tables</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div id="163c950f" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display" data-execution_count="16">
<style type="text/css">
</style>

<table id="T_4bf00" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_4bf00_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_4bf00_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">1999</th>
<th id="T_4bf00_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_4bf00_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_4bf00_row0_col1" class="data row0 col1">745</td>
<td id="T_4bf00_row0_col2" class="data row0 col2">2666</td>
</tr>
<tr class="even">
<td id="T_4bf00_row1_col0" class="data row1 col0">Brazil</td>
<td id="T_4bf00_row1_col1" class="data row1 col1">37737</td>
<td id="T_4bf00_row1_col2" class="data row1 col2">80488</td>
</tr>
<tr class="odd">
<td id="T_4bf00_row2_col0" class="data row2 col0">China</td>
<td id="T_4bf00_row2_col1" class="data row2 col1">212258</td>
<td id="T_4bf00_row2_col2" class="data row2 col2">213766</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="c6244ede" class="cell" data-execution_count="17">
<div class="cell-output cell-output-display" data-execution_count="17">
<style type="text/css">
</style>

<table id="T_d605d" class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_d605d_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">country</th>
<th id="T_d605d_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">1999</th>
<th id="T_d605d_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_d605d_row0_col0" class="data row0 col0">Afghanistan</td>
<td id="T_d605d_row0_col1" class="data row0 col1">19987071</td>
<td id="T_d605d_row0_col2" class="data row0 col2">20595360</td>
</tr>
<tr class="even">
<td id="T_d605d_row1_col0" class="data row1 col0">Brazil</td>
<td id="T_d605d_row1_col1" class="data row1 col1">172006362</td>
<td id="T_d605d_row1_col2" class="data row1 col2">174504898</td>
</tr>
<tr class="odd">
<td id="T_d605d_row2_col0" class="data row2 col0">China</td>
<td id="T_d605d_row2_col1" class="data row2 col1">1272915272</td>
<td id="T_d605d_row2_col2" class="data row2 col2">1280428583</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<ul>
<li>Multiple types of observational units are stored in the same table</li>
</ul>
</div>
</div>
</div>
</section>
<section id="tidy-data-for-machine-learning" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data-for-machine-learning">Tidy data for machine learning</h2>
<p>Data in machine learning typically uses the tidy format, but in <em>matrix</em> rather than <em>table</em> (DataFrame) form</p>
<ul>
<li>Still have column = variable, row = observation</li>
</ul>
<p>We can extract a matrix by accessing the <em>values</em> property</p>
<div id="6191e403" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>nations[[<span class="st">'population'</span>, <span class="st">'income'</span>, <span class="st">'lifeExpectancy'</span>]].values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([[1.27075460e+07, 5.05559000e+03, 4.75800000e+01],
       [8.29494100e+06, 1.45757000e+03, 6.18900000e+01],
       [1.63839300e+06, 1.22822800e+04, 5.51200000e+01],
       [1.47613390e+07, 1.23442000e+03, 5.33800000e+01],
       [8.69100500e+06, 4.57070000e+02, 5.09500000e+01],
       [1.80549290e+07, 1.99718000e+03, 5.13900000e+01],
       [4.26113000e+05, 3.45614000e+03, 7.16800000e+01],
       [1.05411560e+07, 1.55783000e+03, 4.89700000e+01],
       [7.31281000e+05, 1.01642000e+03, 6.57700000e+01],
       [6.66043140e+07, 3.58800000e+02, 4.78100000e+01],
       [3.90331800e+06, 3.83467000e+03, 5.37500000e+01],
       [1.83730600e+07, 1.52023000e+03, 5.78600000e+01],
       [5.62339000e+05, 1.53422000e+04, 5.06400000e+01],
       [5.02847500e+06, 5.48370000e+02, 6.00300000e+01],
       [7.82540900e+07, 8.12160000e+02, 5.56900000e+01],
       [1.48414900e+06, 1.27049900e+04, 6.08900000e+01],
       [2.33366610e+07, 1.38295000e+03, 5.68300000e+01],
       [1.02114370e+07, 9.08860000e+02, 5.83500000e+01],
       [1.50244200e+06, 5.68940000e+02, 4.82000000e+01],
       [3.65291550e+07, 1.49353000e+03, 5.49500000e+01],
       [2.00274900e+06, 1.52140000e+03, 4.55600000e+01],
       [3.33248300e+06, 4.74900000e+02, 5.87100000e+01],
       [1.97575250e+07, 1.00690000e+03, 6.08100000e+01],
       [1.36472730e+07, 8.66350000e+02, 5.38800000e+01],
       [1.23603060e+07, 1.13617000e+03, 4.88400000e+01],
       [3.36494000e+06, 1.77587000e+03, 5.69900000e+01],
       [1.26078100e+06, 1.14115300e+04, 7.21000000e+01],
       [2.16334000e+05, 9.61782000e+03, 7.59900000e+01],
       [2.02031860e+07, 8.88650000e+02, 4.81300000e+01],
       [2.06392700e+06, 4.95226000e+03, 6.17200000e+01],
       [1.32726790e+07, 6.43390000e+02, 5.19500000e+01],
       [1.38283240e+08, 2.15898000e+03, 4.81700000e+01],
       [8.08506000e+05, 7.67012000e+03, 7.66400000e+01],
       [9.07742500e+06, 9.95270000e+02, 5.06900000e+01],
       [2.05901000e+05, 1.70343000e+03, 6.58600000e+01],
       [1.25482430e+07, 1.70005000e+03, 5.59100000e+01],
       [6.28661700e+06, 8.93600000e+02, 4.79500000e+01],
       [9.37990700e+06, 9.43040000e+02, 5.00900000e+01],
       [4.37861150e+07, 9.14127000e+03, 5.17200000e+01],
       [4.33544110e+07, 2.77861000e+03, 5.85000000e+01],
       [1.12881400e+06, 4.72818000e+03, 4.63600000e+01],
       [3.88582760e+07, 1.22025000e+03, 5.63500000e+01],
       [5.85867300e+06, 8.88010000e+02, 6.29300000e+01],
       [3.02145310e+07, 1.20253000e+03, 5.34700000e+01],
       [1.19934030e+07, 1.44206000e+03, 4.64000000e+01],
       [1.23829200e+07, 4.43740000e+02, 4.57200000e+01],
       [3.27383760e+07, 1.21668000e+03, 4.43000000e+01],
       [1.53546901e+08, 1.49200000e+03, 6.65600000e+01],
       [2.37668000e+06, 5.05383000e+03, 6.64200000e+01],
       [1.12536829e+09, 2.73100000e+03, 6.40100000e+01],
       [3.79174000e+05, 5.08179000e+03, 7.19400000e+01],
       [2.95191140e+07, 1.22473000e+03, 6.71200000e+01],
       [1.72730891e+08, 2.60300000e+03, 6.68400000e+01],
       [2.05321500e+07, 4.25413000e+03, 7.42400000e+01],
       [3.37396350e+07, 6.20717000e+03, 7.26700000e+01],
       [7.18306000e+05, 2.42265100e+04, 7.58800000e+01],
       [5.06221000e+05, 2.17679000e+03, 5.57800000e+01],
       [2.82211810e+07, 3.51818000e+03, 6.81000000e+01],
       [6.50038900e+06, 2.54636900e+04, 8.10000000e+01],
       [6.19867700e+06, 5.10939000e+03, 7.28800000e+01],
       [2.59679900e+06, 4.24435300e+04, 7.77900000e+01],
       [3.96746700e+06, 1.27662100e+04, 7.22600000e+01],
       [6.17357900e+06, 1.20516200e+04, 7.42800000e+01],
       [3.42729680e+07, 4.16293000e+03, 7.15800000e+01],
       [3.30944000e+06, 2.28048500e+04, 7.59400000e+01],
       [9.28635000e+05, 7.41382800e+04, 7.58100000e+01],
       [2.81614170e+07, 2.11381800e+04, 7.31000000e+01],
       [1.03781400e+07, 7.49961000e+03, 7.41500000e+01],
       [2.68274700e+06, 3.37349400e+04, 7.75800000e+01],
       [4.14917300e+06, 3.08456000e+03, 7.37400000e+01],
       [2.29939110e+07, 2.31316000e+03, 6.33900000e+01],
       [4.06773480e+07, 1.34980400e+04, 7.55200000e+01],
       [7.24800000e+04, 2.53510900e+04, 7.49200000e+01],
       [2.81968000e+05, 1.58467700e+04, 7.75100000e+01],
       [3.01022000e+05, 6.99808000e+03, 7.66000000e+01],
       [9.24781600e+06, 4.00716000e+03, 6.60100000e+01],
       [1.91908598e+08, 9.56978000e+03, 7.26800000e+01],
       [3.36792630e+07, 3.45696300e+04, 8.08900000e+01],
       [1.64325360e+07, 1.30873800e+04, 7.86700000e+01],
       [4.48582640e+07, 7.09069000e+03, 7.31900000e+01],
       [4.19194800e+06, 9.55156000e+03, 7.89800000e+01],
       [1.14490060e+07, 9.27796000e+03, 7.88400000e+01],
       [1.39276500e+07, 7.03545000e+03, 7.52600000e+01],
       [7.05713100e+06, 5.64685000e+03, 7.17400000e+01],
       [2.06941000e+05, 8.20274000e+03, 7.61600000e+01],
       [9.03030000e+04, 8.82690000e+03, 7.56200000e+01],
       [4.60486000e+05, 7.78825000e+03, 7.92800000e+01],
       [1.28516470e+07, 5.16322000e+03, 7.05500000e+01],
       [7.70794000e+05, 3.77695000e+03, 6.74300000e+01],
       [8.70441300e+06, 1.19805000e+03, 6.14800000e+01],
       [7.63932700e+06, 3.47346000e+03, 7.24100000e+01],
       [2.80154400e+06, 7.02374000e+03, 7.21100000e+01],
       [4.42119000e+05, 1.46271300e+04, 7.97700000e+01],
       [1.09955400e+08, 1.12503700e+04, 7.64700000e+01],
       [2.25168000e+05, 2.31783700e+04, 7.63800000e+01],
       [5.78058600e+06, 2.59139000e+03, 7.34400000e+01],
       [3.29269300e+06, 1.07966800e+04, 7.58100000e+01],
       [6.82996900e+06, 4.05430000e+03, 7.20700000e+01],
       [2.90415930e+07, 7.85897000e+03, 7.34700000e+01],
       [3.95716900e+06, 1.89705100e+04, 7.89500000e+01],
       [4.40486000e+05, 8.19903000e+03, 6.91600000e+01],
       [1.04736600e+06, 1.78260500e+04, 6.97000000e+01],
       [3.03824646e+08, 4.12560800e+04, 7.94300000e+01],
       [3.46253100e+06, 1.14610300e+04, 7.65000000e+01],
       [3.61977800e+06, 6.54627000e+03, 7.67400000e+01],
       [2.96858600e+06, 4.52344000e+03, 7.40300000e+01],
       [8.20553300e+06, 3.56364200e+04, 8.02300000e+01],
       [8.07904300e+06, 9.08842000e+03, 7.06000000e+01],
       [1.02879550e+07, 1.15744300e+04, 6.94000000e+01],
       [1.04039510e+07, 3.22566400e+04, 8.00500000e+01],
       [4.59031000e+06, 7.34198000e+03, 7.53400000e+01],
       [7.26267500e+06, 1.08402600e+04, 7.35300000e+01],
       [4.49154300e+06, 1.41104600e+04, 7.64900000e+01],
       [7.92604000e+05, 2.56434500e+04, 7.98500000e+01],
       [5.48472300e+06, 3.26700600e+04, 7.85700000e+01],
       [1.30760500e+06, 1.63491300e+04, 7.35000000e+01],
       [5.24474900e+06, 3.06027300e+04, 7.99000000e+01],
       [6.12799720e+07, 2.97748500e+04, 8.14700000e+01],
       [4.63084100e+06, 4.16870000e+03, 7.18600000e+01],
       [8.23695480e+07, 3.11911500e+04, 8.00800000e+01],
       [1.07228160e+07, 2.76261100e+04, 7.95000000e+01],
       [9.93091500e+06, 1.69828000e+04, 7.36700000e+01],
       [3.04367000e+05, 3.49897300e+04, 8.19500000e+01],
       [4.15611900e+06, 3.56929500e+04, 8.01600000e+01],
       [5.81453210e+07, 2.61605900e+04, 8.13400000e+01],
       [1.53405330e+07, 1.06122900e+04, 6.51800000e+01],
       [2.24542300e+06, 1.30219400e+04, 7.27700000e+01],
       [3.56520500e+06, 1.49287800e+04, 7.19300000e+01],
       [4.86006000e+05, 7.08574600e+04, 7.97500000e+01],
       [2.06131500e+06, 8.36479000e+03, 7.44000000e+01],
       [4.03532000e+05, 2.13278500e+04, 7.99100000e+01],
       [4.49677400e+06, 2.59342000e+03, 6.87200000e+01],
       [6.72180000e+05, 1.22577900e+04, 7.43400000e+01],
       [1.66453130e+07, 3.60745300e+04, 8.01900000e+01],
       [4.64445700e+06, 4.79150000e+04, 8.08500000e+01],
       [3.85006960e+07, 1.64658000e+04, 7.58400000e+01],
       [1.06769100e+07, 1.98984300e+04, 7.89400000e+01],
       [2.22468620e+07, 1.08681200e+04, 7.29900000e+01],
       [1.01665070e+07, 1.00052200e+04, 7.42300000e+01],
       [5.45540700e+06, 1.91860100e+04, 7.49400000e+01],
       [2.00771100e+06, 2.47782100e+04, 7.86300000e+01],
       [4.04910510e+07, 2.68119300e+04, 8.11100000e+01],
       [9.04538900e+06, 3.20210000e+04, 8.11200000e+01],
       [7.58152000e+06, 3.80039200e+04, 8.20600000e+01],
       [7.65339400e+06, 1.77538000e+03, 6.70700000e+01],
       [7.18928070e+07, 8.04078000e+03, 7.20600000e+01],
       [5.23207700e+06, 5.70266000e+03, 6.50600000e+01],
       [4.61702730e+07, 5.73086000e+03, 6.84500000e+01],
       [6.09439120e+07, 3.10424700e+04, 7.96400000e+01],
       [2.82684400e+07, 2.58696000e+03, 6.79700000e+01],
       [2.06008560e+07, 3.43272600e+04, 8.17100000e+01],
       [3.93551000e+05, 4.47389900e+04, 7.73200000e+01],
       [1.43876420e+07, 1.83097000e+03, 6.16700000e+01],
       [1.32685617e+09, 7.22607000e+03, 7.32800000e+01],
       [9.31545000e+05, 4.01620000e+03, 6.90500000e+01],
       [2.82645000e+05, 2.67338800e+04, 7.45900000e+01],
       [7.01863600e+06, 3.90863900e+04, 8.24000000e+01],
       [2.26134000e+08, 3.81808000e+03, 7.11700000e+01],
       [1.27425722e+08, 2.96806800e+04, 8.29800000e+01],
       [2.34790890e+07, 1.63500000e+03, 6.75300000e+01],
       [4.92328440e+07, 2.38750000e+04, 7.96500000e+01],
       [4.60823000e+05, 5.74366800e+04, 8.09500000e+01],
       [2.52594280e+07, 1.23876700e+04, 7.45400000e+01],
       [1.07673000e+05, 4.99456000e+03, 6.88100000e+01],
       [2.91686500e+06, 3.20517000e+03, 6.69300000e+01],
       [4.81331020e+07, 1.26914000e+03, 6.21400000e+01],
       [2.24585000e+05, 3.09597400e+04, 7.63600000e+01],
       [4.15431100e+06, 2.40094600e+04, 8.04500000e+01],
       [5.92114400e+06, 1.94716000e+03, 6.12900000e+01],
       [9.26814530e+07, 3.20397000e+03, 7.21000000e+01],
       [1.76418000e+05, 5.00361000e+03, 7.19200000e+01],
       [4.60816700e+06, 4.35260400e+04, 8.05800000e+01],
       [5.81208000e+05, 1.90369000e+03, 6.66600000e+01],
       [2.33083700e+07, 2.83610000e+04, 7.86000000e+01],
       [6.54932980e+07, 7.37617000e+03, 6.90800000e+01],
       [1.13012000e+06, 2.47568000e+03, 6.16000000e+01],
       [1.40100000e+03, 8.89430000e+02, 6.90000000e+01],
       [1.18993000e+05, 5.10406000e+03, 7.19600000e+01],
       [8.61165590e+07, 2.67934000e+03, 7.47000000e+01],
       [2.15053000e+05, 3.94330000e+03, 7.05000000e+01]])</code></pre>
</div>
</div>
</section>
<section id="always-the-right-choice" class="level2">
<h2 class="anchored" data-anchor-id="always-the-right-choice">Always the right choice?</h2>
<p><strong>No!</strong> In some cases untidy data can be preferred!</p>
<ul>
<li>Often for performance/memory reasons</li>
<li>We’ll cover this when we get to spatial data</li>
</ul>
</section>
</section>
<section id="types-and-schema" class="level1">
<h1>Types and schema</h1>
<section id="variable-types" class="level2">
<h2 class="anchored" data-anchor-id="variable-types">Variable types</h2>
<p>A defining characteristic of a variable is its <strong>type</strong></p>
<div id="850967e4" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'population'</span>].dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>dtype('int64')</code></pre>
</div>
</div>
<ul>
<li>This should be familar to computer scientists!</li>
</ul>
<p>The <strong>type</strong> of a variable determines what kinds of values it can take and how we should interpret them</p>
</section>
<section id="variable-types-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-1">Variable types</h2>
<div class="columns">
<div class="column" style="width:30%;">
<ul>
<li><strong>Nominal</strong>
<ul>
<li>Categorical</li>
<li>Arbitrary</li>
</ul></li>
<li>Ordinal</li>
<li>Quantitative
<ul>
<li>Interval</li>
<li>Ratio</li>
</ul></li>
</ul>
</div><div class="column" style="font-size: 80%">
<section id="nominal-variables" class="level3">
<h3 class="anchored" data-anchor-id="nominal-variables">Nominal variables</h3>
<p>An <em>unordered</em> set of non-numeric values, representing labels or categories</p>
<section id="categorical---finite" class="level4">
<h4 class="anchored" data-anchor-id="categorical---finite">Categorical - Finite</h4>
<p>Possible values are finite and <em>known</em></p>
<ul>
<li>Colors: <em>{red, green, blue}</em></li>
<li>Regions: <em>{South Asia, Europe &amp; Central Asia, …}</em></li>
</ul>
</section>
<section id="arbitrary---infinite" class="level4">
<h4 class="anchored" data-anchor-id="arbitrary---infinite">Arbitrary - Infinite</h4>
<p>Possible values are unbounded</p>
<ul>
<li>Addresses: <em>{“12 Main St.&nbsp;Boston MA”, “45 Wall St.&nbsp;New York NY”, …}</em></li>
<li>Names: <em>{“John Smith”, “Jane Doe”, …}</em></li>
</ul>
</section>
</section>
</div>
</div>
</section>
<section id="variable-types-2" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-2">Variable types</h2>
<div class="columns">
<div class="column" style="width:30%;">
<ul>
<li>Nominal
<ul>
<li>Categorical</li>
<li>Arbitrary</li>
</ul></li>
<li><strong>Ordinal</strong></li>
<li>Quantitative
<ul>
<li>Interval</li>
<li>Ratio</li>
</ul></li>
</ul>
</div><div class="column" style="font-size: 80%">
<section id="ordinal-variables" class="level3">
<h3 class="anchored" data-anchor-id="ordinal-variables">Ordinal variables</h3>
<p>An <em>ordered</em> set of (usually) non-numeric values, representing levels</p>
<ul>
<li>Grades: <em>{A, B, C, D, F}</em></li>
<li>Ratings: <em>{G, PG, PG-13, R}</em></li>
</ul>
</section>
</div>
</div>
</section>
<section id="variable-types-3" class="level2">
<h2 class="anchored" data-anchor-id="variable-types-3">Variable types</h2>
<div class="columns">
<div class="column" style="width:30%;">
<ul>
<li>Nominal
<ul>
<li>Categorical</li>
<li>Arbitrary</li>
</ul></li>
<li>Ordinal</li>
<li><strong>Quantitative</strong>
<ul>
<li>Interval</li>
<li>Ratio</li>
</ul></li>
</ul>
</div><div class="column" style="font-size: 80%">
<section id="quantitative-variables" class="level3">
<h3 class="anchored" data-anchor-id="quantitative-variables">Quantitative variables</h3>
<p>Numeric data that we can perform mathematical operations on</p>
<section id="interval" class="level4">
<h4 class="anchored" data-anchor-id="interval">Interval</h4>
<p>Location of 0 is arbitrary, only differences/intervals can be compared</p>
<ul>
<li>Date-Times: <em>Jan, 19, 2006</em></li>
</ul>
</section>
<section id="ratio" class="level4">
<h4 class="anchored" data-anchor-id="ratio">Ratio</h4>
<p>0 is well-defined and meaningful. Can compare values as <em>ratios</em></p>
<ul>
<li>Height: <em>{5’3”, 6’1”, 5’9”,…}</em></li>
<li>Population: <em>23M, 350k, 1.4B, …</em></li>
</ul>
</section>
</section>
</div>
</div>
</section>
<section id="operations-by-type" class="level2">
<h2 class="anchored" data-anchor-id="operations-by-type">Operations by type</h2>
<div style="font-size: 80%">
<section id="nominal-labels-or-categories" class="level4">
<h4 class="anchored" data-anchor-id="nominal-labels-or-categories">Nominal (Labels or categories)</h4>
<ul>
<li>Concrete types: <code>str</code>, <code>bool</code>, <code>category</code></li>
<li>Operations: =, ≠</li>
</ul>
</section>
<section id="ordinal-ordered-non-numeric" class="level4">
<h4 class="anchored" data-anchor-id="ordinal-ordered-non-numeric">Ordinal (Ordered, non-numeric)</h4>
<ul>
<li>Concrete types: <code>str</code>, <code>int</code>, <code>category</code></li>
<li>Operations: =, ≠, &lt;, &gt;</li>
</ul>
</section>
<section id="interval-arbitrary-0" class="level4">
<h4 class="anchored" data-anchor-id="interval-arbitrary-0">Interval (Arbitrary 0)</h4>
<ul>
<li>Concrete types: <code>float</code>, <code>int</code>, <code>datetime</code></li>
<li>Operations: =, ≠, &lt;, &gt;, -</li>
</ul>
</section>
<section id="ratio-well-defined-0" class="level4">
<h4 class="anchored" data-anchor-id="ratio-well-defined-0">Ratio (Well-defined 0)</h4>
<ul>
<li>Concrete types: <code>float</code>, <code>int</code>, <code>timedelta</code></li>
<li>Operations: =, ≠, &lt;, &gt;, -, /</li>
</ul>
</section>
</div>
</section>
<section id="schema" class="level2">
<h2 class="anchored" data-anchor-id="schema">Schema</h2>
<p>The <strong>schema</strong> of a data frame is the specification of the set of variables and the type of each variable</p>
<ul>
<li>In Pandas we can access this with <code>df.info</code></li>
</ul>
<div id="1eedeed2" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>nations.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 180 entries, 0 to 179
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   name            180 non-null    object 
 1   region          180 non-null    object 
 2   income          180 non-null    float64
 3   population      180 non-null    int64  
 4   lifeExpectancy  180 non-null    float64
dtypes: float64(2), int64(1), object(2)
memory usage: 7.2+ KB</code></pre>
</div>
</div>
</section>
<section id="series-1" class="level2">
<h2 class="anchored" data-anchor-id="series-1">Series</h2>
<p>We can also convert the type of a series</p>
<div id="739b06d8" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'population'</span>].astype(<span class="bu">float</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>0    12707546.0
1     8294941.0
2     1638393.0
3    14761339.0
4     8691005.0
Name: population, dtype: float64</code></pre>
</div>
</div>
<div id="9b19d871" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'population'</span>] <span class="op">=</span> nations[<span class="st">'population'</span>].astype(<span class="bu">float</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>nations.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 180 entries, 0 to 179
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   name            180 non-null    object 
 1   region          180 non-null    object 
 2   income          180 non-null    float64
 3   population      180 non-null    float64
 4   lifeExpectancy  180 non-null    float64
dtypes: float64(3), object(2)
memory usage: 7.2+ KB</code></pre>
</div>
</div>
</section>
<section id="nominal-types" class="level2">
<h2 class="anchored" data-anchor-id="nominal-types">Nominal types</h2>
<p>Non-numeric values use the <code>object</code> type by default</p>
<ul>
<li>Therefore are treated as <em>arbitrary</em> nominal types</li>
</ul>
<div id="3724aab3" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>nations.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 180 entries, 0 to 179
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   name            180 non-null    object 
 1   region          180 non-null    object 
 2   income          180 non-null    float64
 3   population      180 non-null    float64
 4   lifeExpectancy  180 non-null    float64
dtypes: float64(3), object(2)
memory usage: 7.2+ KB</code></pre>
</div>
</div>
</section>
<section id="nominal-types-1" class="level2">
<h2 class="anchored" data-anchor-id="nominal-types-1">Nominal types</h2>
<p>If we want a nominal value to be <strong>categorical</strong> or <strong>ordinal</strong>, we can tell Pandas explicitly</p>
<div id="b6fd7bd9" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'region'</span>] <span class="op">=</span> nations[<span class="st">'region'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>nations.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 180 entries, 0 to 179
Data columns (total 5 columns):
 #   Column          Non-Null Count  Dtype   
---  ------          --------------  -----   
 0   name            180 non-null    object  
 1   region          180 non-null    category
 2   income          180 non-null    float64 
 3   population      180 non-null    float64 
 4   lifeExpectancy  180 non-null    float64 
dtypes: category(1), float64(3), object(1)
memory usage: 6.1+ KB</code></pre>
</div>
</div>
<div id="fca48bfa" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>nations[<span class="st">'region'</span>].dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>CategoricalDtype(categories=['America', 'East Asia &amp; Pacific', 'Europe &amp; Central Asia',
                  'Middle East &amp; North Africa', 'South Asia',
                  'Sub-Saharan Africa'],
, ordered=False, categories_dtype=object)</code></pre>
</div>
</div>
</section>
<section id="index" class="level2">
<h2 class="anchored" data-anchor-id="index">Index</h2>
<p>The <strong>index</strong> of a DataFrame in Pandas is a special column used to identify each row.</p>
<ul>
<li>Mostly exists for performance reasons. Any column could be used as an index.</li>
</ul>
<p>By default the index is a new column that identifies each row with an integer</p>
<div id="29b0d59b" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>nations.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546.0</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941.0</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393.0</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339.0</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005.0</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="index-1" class="level2">
<h2 class="anchored" data-anchor-id="index-1">Index</h2>
<p>But we can set any column as the index</p>
<ul>
<li>Some operations will depend on what the index is</li>
</ul>
<div id="a5299e5b" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>nations.set_index(<span class="st">'name'</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546.0</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941.0</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393.0</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339.0</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005.0</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="missing-data" class="level2">
<h2 class="anchored" data-anchor-id="missing-data">Missing data</h2>
<p>Sometimes a value doesn’t exist!</p>
<ul>
<li>What if we don’t know the life expectency for a country?</li>
</ul>
</section>
<section id="missing-data-1" class="level2">
<h2 class="anchored" data-anchor-id="missing-data-1">Missing data</h2>
<p>Pandas uses special values to denote missingness:</p>
<ul>
<li><code>np.NaN</code> (Not a number) for general numeric types and categorical types</li>
<li><code>NaT</code> (Not a time) for datetime types</li>
<li><code>None</code> or <code>pd.NA</code> for other types</li>
</ul>
</section>
</section>
<section id="visualization" class="level1">
<h1>Visualization</h1>
<p>Why create visualizations?</p>
<section id="visual-language" class="level2">
<h2 class="anchored" data-anchor-id="visual-language">Visual language</h2>
<div class="columns">
<div class="column" style="font-size: 50%">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/bertin.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>Images perceived as a set of signs</p>
<p>Sender encodes information in signs</p>
<p>Receiver decodes information from signs</p>
<ul>
<li><em><strong>Jacques Bertin</strong> - Sémiologie Graphique, 1967</em></li>
</ul>
</div>
</div>
</section>
<section id="conceptual-strategy" class="level2">
<h2 class="anchored" data-anchor-id="conceptual-strategy">Conceptual strategy</h2>
<p>Map each <em>data dimension</em> (variable) to a corresponding <em>visual dimension</em></p>
<div class="columns">
<div class="column" style="font-size: 50%">
<div id="95bee695" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">lifeExpectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Angola</td>
<td>Sub-Saharan Africa</td>
<td>5055.59</td>
<td>12707546.0</td>
<td>47.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Benin</td>
<td>Sub-Saharan Africa</td>
<td>1457.57</td>
<td>8294941.0</td>
<td>61.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Botswana</td>
<td>Sub-Saharan Africa</td>
<td>12282.28</td>
<td>1638393.0</td>
<td>55.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Burkina Faso</td>
<td>Sub-Saharan Africa</td>
<td>1234.42</td>
<td>14761339.0</td>
<td>53.38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Burundi</td>
<td>Sub-Saharan Africa</td>
<td>457.07</td>
<td>8691005.0</td>
<td>50.95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="5b4adc5d" class="cell" data-execution_count="29">
<div class="cell-output cell-output-display">

            <div id="RwTV0L"></div>
            <script type="text/javascript" data-lets-plot-script="library">
                if(!window.letsPlotCallQueue) {
                    window.letsPlotCallQueue = [];
                }; 
                window.letsPlotCall = function(f) {
                    window.letsPlotCallQueue.push(f);
                };
                (function() {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.3.3/js-package/distr/lets-plot.min.js";
                    script.onload = function() {
                        window.letsPlotCall = function(f) {f();};
                        window.letsPlotCallQueue.forEach(function(f) {f();});
                        window.letsPlotCallQueue = [];
                        
                    };
                    script.onerror = function(event) {
                        window.letsPlotCall = function(f) {};    // noop
                        window.letsPlotCallQueue = [];
                        var div = document.createElement("div");
                        div.style.color = 'darkred';
                        div.textContent = 'Error loading Lets-Plot JS';
                        document.getElementById("RwTV0L").appendChild(div);
                    };
                    var e = document.getElementById("RwTV0L");
                    e.appendChild(script);
                })()
            </script>
            
</div>
<div class="cell-output cell-output-display" data-execution_count="29">
   <div id="6SITyw"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"name":["Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mayotte","Mozambique","Namibia","Niger","Nigeria","Reunion","Rwanda","Sao Tome and Principe","Senegal","Sierra Leone","Somalia","South Africa","Sudan","Swaziland","Tanzania","Togo","Uganda","Zambia","Zimbabwe","Afghanistan","Bangladesh","Bhutan","India","Maldives","Nepal","Pakistan","Sri Lanka","Algeria","Bahrain","Djibouti","Iraq","Israel","Jordan","Kuwait","Lebanon","Libya","Morocco","Oman","Qatar","Saudi Arabia","Tunisia","United Arab Emirates","West Bank and Gaza","Yemen, Rep.","Argentina","Aruba","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Ecuador","El Salvador","French Guiana","Grenada","Guadeloupe","Guatemala","Guyana","Haiti","Honduras","Jamaica","Martinique","Mexico","Netherlands Antilles","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","Suriname","Trinidad and Tobago","United States","Uruguay","Albania","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Tajikistan","Turkey","Turkmenistan","Ukraine","United Kingdom","Uzbekistan","Australia","Brunei","Cambodia","China","Fiji","French Polynesia","Hong Kong, China","Indonesia","Japan","Korea, Dem. Rep.","Korea, Rep.","Macao, China","Malaysia","Micronesia, Fed. Sts.","Mongolia","Myanmar","New Caledonia","New Zealand","Papua New Guinea","Philippines","Samoa","Singapore","Solomon Islands","Taiwan","Thailand","Timor-Leste","Tokelau","Tonga","Vietnam","Vanuatu"],
"region":["Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","South Asia","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","Middle East & North Africa","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","America","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","Europe & Central Asia","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific","East Asia & Pacific"],
"income":[5055.59,1457.57,12282.28,1234.42,457.07,1997.18,3456.14,1557.83,1016.42,358.8,3834.67,1520.23,15342.2,548.37,812.16,12704.99,1382.95,908.86,568.94,1493.53,1521.4,474.9,1006.9,866.35,1136.17,1775.87,11411.53,9617.82,888.65,4952.26,643.39,2158.98,7670.12,995.27,1703.43,1700.05,893.6,943.04,9141.27,2778.61,4728.18,1220.25,888.01,1202.53,1442.06,443.74,1216.68,1492.0,5053.83,2731.0,5081.79,1224.73,2603.0,4254.13,6207.17,24226.51,2176.79,3518.18,25463.69,5109.39,42443.53,12766.21,12051.62,4162.93,22804.85,74138.28,21138.18,7499.61,33734.94,3084.56,2313.16,13498.04,25351.09,15846.77,6998.08,4007.16,9569.78,34569.63,13087.38,7090.69,9551.56,9277.96,7035.45,5646.85,8202.74,8826.9,7788.25,5163.22,3776.95,1198.05,3473.46,7023.74,14627.13,11250.37,23178.37,2591.39,10796.68,4054.3,7858.97,18970.51,8199.03,17826.05,41256.08,11461.03,6546.27,4523.44,35636.42,9088.42,11574.43,32256.64,7341.98,10840.26,14110.46,25643.45,32670.06,16349.13,30602.73,29774.85,4168.7,31191.15,27626.11,16982.8,34989.73,35692.95,26160.59,10612.29,13021.94,14928.78,70857.46,8364.79,21327.85,2593.42,12257.79,36074.53,47915.0,16465.8,19898.43,10868.12,10005.22,19186.01,24778.21,26811.93,32021.0,38003.92,1775.38,8040.78,5702.66,5730.86,31042.47,2586.96,34327.26,44738.99,1830.97,7226.07,4016.2,26733.88,39086.39,3818.08,29680.68,1635.0,23875.0,57436.68,12387.67,4994.56,3205.17,1269.14,30959.74,24009.46,1947.16,3203.97,5003.61,43526.04,1903.69,28361.0,7376.17,2475.68,889.43,5104.06,2679.34,3943.3],
"population":[1.2707546E7,8294941.0,1638393.0,1.4761339E7,8691005.0,1.8054929E7,426113.0,1.0541156E7,731281.0,6.6604314E7,3903318.0,1.837306E7,562339.0,5028475.0,7.825409E7,1484149.0,2.3336661E7,1.0211437E7,1502442.0,3.6529155E7,2002749.0,3332483.0,1.9757525E7,1.3647273E7,1.2360306E7,3364940.0,1260781.0,216334.0,2.0203186E7,2063927.0,1.3272679E7,1.3828324E8,808506.0,9077425.0,205901.0,1.2548243E7,6286617.0,9379907.0,4.3786115E7,4.3354411E7,1128814.0,3.8858276E7,5858673.0,3.0214531E7,1.1993403E7,1.238292E7,3.2738376E7,1.53546901E8,2376680.0,1.125368288E9,379174.0,2.9519114E7,1.72730891E8,2.053215E7,3.3739635E7,718306.0,506221.0,2.8221181E7,6500389.0,6198677.0,2596799.0,3967467.0,6173579.0,3.4272968E7,3309440.0,928635.0,2.8161417E7,1.037814E7,2682747.0,4149173.0,2.2993911E7,4.0677348E7,72480.0,281968.0,301022.0,9247816.0,1.91908598E8,3.3679263E7,1.6432536E7,4.4858264E7,4191948.0,1.1449006E7,1.392765E7,7057131.0,206941.0,90303.0,460486.0,1.2851647E7,770794.0,8704413.0,7639327.0,2801544.0,442119.0,1.099554E8,225168.0,5780586.0,3292693.0,6829969.0,2.9041593E7,3957169.0,440486.0,1047366.0,3.03824646E8,3462531.0,3619778.0,2968586.0,8205533.0,8079043.0,1.0287955E7,1.0403951E7,4590310.0,7262675.0,4491543.0,792604.0,5484723.0,1307605.0,5244749.0,6.1279972E7,4630841.0,8.2369548E7,1.0722816E7,9930915.0,304367.0,4156119.0,5.8145321E7,1.5340533E7,2245423.0,3565205.0,486006.0,2061315.0,403532.0,4496774.0,672180.0,1.6645313E7,4644457.0,3.8500696E7,1.067691E7,2.2246862E7,1.0166507E7,5455407.0,2007711.0,4.0491051E7,9045389.0,7581520.0,7653394.0,7.1892807E7,5232077.0,4.6170273E7,6.0943912E7,2.826844E7,2.0600856E7,393551.0,1.4387642E7,1.326856173E9,931545.0,282645.0,7018636.0,2.26134E8,1.27425722E8,2.3479089E7,4.9232844E7,460823.0,2.5259428E7,107673.0,2916865.0,4.8133102E7,224585.0,4154311.0,5921144.0,9.2681453E7,176418.0,4608167.0,581208.0,2.330837E7,6.5493298E7,1130120.0,1401.0,118993.0,8.6116559E7,215053.0],
"lifeExpectancy":[47.58,61.89,55.12,53.38,50.95,51.39,71.68,48.97,65.77,47.81,53.75,57.86,50.64,60.03,55.69,60.89,56.83,58.35,48.2,54.95,45.56,58.71,60.81,53.88,48.84,56.99,72.1,75.99,48.13,61.72,51.95,48.17,76.64,50.69,65.86,55.91,47.95,50.09,51.72,58.5,46.36,56.35,62.93,53.47,46.4,45.72,44.3,66.56,66.42,64.01,71.94,67.12,66.84,74.24,72.67,75.88,55.78,68.1,81.0,72.88,77.79,72.26,74.28,71.58,75.94,75.81,73.1,74.15,77.58,73.74,63.39,75.52,74.92,77.51,76.6,66.01,72.68,80.89,78.67,73.19,78.98,78.84,75.26,71.74,76.16,75.62,79.28,70.55,67.43,61.48,72.41,72.11,79.77,76.47,76.38,73.44,75.81,72.07,73.47,78.95,69.16,69.7,79.43,76.5,76.74,74.03,80.23,70.6,69.4,80.05,75.34,73.53,76.49,79.85,78.57,73.5,79.9,81.47,71.86,80.08,79.5,73.67,81.95,80.16,81.34,65.18,72.77,71.93,79.75,74.4,79.91,68.72,74.34,80.19,80.85,75.84,78.94,72.99,74.23,74.94,78.63,81.11,81.12,82.06,67.07,72.06,65.06,68.45,79.64,67.97,81.71,77.32,61.67,73.28,69.05,74.59,82.4,71.17,82.98,67.53,79.65,80.95,74.54,68.81,66.93,62.14,76.36,80.45,61.29,72.1,71.92,80.58,66.66,78.6,69.08,61.6,69.0,71.96,74.7,70.5]
},
"mapping":{
"x":"income",
"y":"lifeExpectancy",
"size":"population"
},
"data_meta":{
},
"ggsize":{
"width":800.0,
"height":500.0
},
"ggtitle":{
"text":"The Wealth and Health of Nations"
},
"kind":"plot",
"scales":[{
"aesthetic":"size",
"trans":"sqrt",
"range":[0.2,12.0]
},{
"aesthetic":"x",
"breaks":[500.0,700.0,1000.0,5000.0,7000.0,10000.0,50000.0,70000.0],
"trans":"log2"
}],
"layers":[{
"geom":"point",
"mapping":{
"fill":"region"
},
"tooltips":{
"formats":[],
"variables":["name"]
},
"data_meta":{
},
"stroke":0.5,
"shape":21.0,
"alpha":0.7,
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("6SITyw");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();
   </script>
</div>
</div>
</div>
</div>
</section>
<section id="visual-encoding-dimensions" class="level2">
<h2 class="anchored" data-anchor-id="visual-encoding-dimensions">Visual encoding dimensions</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/encodings.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="example---william-playfair-1786" class="level2">
<h2 class="anchored" data-anchor-id="example---william-playfair-1786">Example - William Playfair, 1786</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/playfair.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="visualizations-in-code" class="level1">
<h1>Visualizations in code</h1>
<p>ggplot + Let’s Plot</p>
<section id="ggplot" class="level2">
<h2 class="anchored" data-anchor-id="ggplot">Ggplot</h2>
<p><strong>ggplot</strong> is a hugely influential visualizatation library.</p>
<ul>
<li>Designed by Hadley Wickham</li>
<li>Only for the R language</li>
</ul>
<p><strong>Let’s Plot</strong> is a port for Python (and Kotlin)</p>
<ul>
<li>We’ll be using it in class</li>
</ul>
</section>
</section>
<section id="example-cars" class="level1">
<h1>Example: Cars</h1>
</section>
<section id="file-formats-and-loading-data" class="level1">
<h1>File formats and loading data</h1>
<section id="csv-and-tsv-files" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-files">CSV (and TSV) files</h2>
<p>“Simplest” and most common data file format.</p>
<ul>
<li>Plain text file</li>
<li>Each line is a row</li>
<li>Each column is separated by a <em>delimiter</em>: “,” for CSV, <code>tab</code> for TSV.</li>
<li>First row (usually) specifies column labels</li>
</ul>
</section>
<section id="loading-csv-and-tsv-files" class="level2">
<h2 class="anchored" data-anchor-id="loading-csv-and-tsv-files">Loading CSV (and TSV) files</h2>
<p>Files can be loaded into Pandas with <code>pd.read_csv()</code></p>
</section>
<section id="csv-and-tsv-issues" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues">CSV (and TSV) issues</h2>
<p><strong>No explicit schema!</strong> We need to <em>guess</em> the type of each column</p>
<ul>
<li>Pandas usally does a good job, but could get it wrong!</li>
</ul>
</section>
<section id="csv-and-tsv-issues-1" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues-1">CSV (and TSV) issues</h2>
<p><strong>Ambiguity!</strong> <em>What if a value contains a comma?</em></p>
<ul>
<li>Usually handled by <em>quoting</em> text</li>
<li>Leads to its own issues</li>
</ul>
</section>
<section id="csv-and-tsv-issues-2" class="level2">
<h2 class="anchored" data-anchor-id="csv-and-tsv-issues-2">CSV (and TSV) issues</h2>
<p><strong>Lack of standardization!</strong> Many different ways of handling different data types</p>
<ul>
<li>Leads to this:</li>
</ul>
</section>
<section id="python" class="level2">
<h2 class="anchored" data-anchor-id="python">Python</h2>
<p>We can load a DataFrame from Python structures a s well</p>
<ul>
<li><p>Column format</p></li>
<li><p>Records format</p></li>
</ul>
</section>
<section id="json-javascript-object-notation" class="level2">
<h2 class="anchored" data-anchor-id="json-javascript-object-notation">JSON (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation)</h2>
<p><strong>JSON</strong> is a plain text format that describes nested <code>list</code> and <code>dict</code> structures (<code>array</code> and <code>object</code> in JavaScript)</p>
<ul>
<li>Pandas can read and write JSON using the columns or records format</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>